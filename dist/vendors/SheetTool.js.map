{"version":3,"sources":["webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.less?fd3d","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.yaml","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.less?8563","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.less","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.yaml?072d","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.html","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.js?1071","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.js","webpack:///./src/components/ReplacePanel/SheetTool/SheetTool.vue"],"names":["content","options","module","i","insert","singleton","locals","exports","Component","__i18n","push","_Ctor","render","_vm","this","_h","$createElement","_c","_self","staticClass","localConfig","formatTool","attrs","for","_v","_s","$t","directives","name","rawName","value","colNo","expression","type","min","id","domProps","on","input","$event","target","composing","_e","_withStripped","props","data","$i18n","locale","watch","methods","sortLines","textContentLines","length","lines","concat","utils","SortUtils","sort","textContent","join","shuffleLines","splitor","split","shuffled","map","Math","random","a","b","_ref","done","transpose","output","forEach","line","y","x","removeColumn","_this","seperators","seperator","indexOf","columns","colIndex","splice","removeListPoint","pointPos","startsWith","slice","trim","shuffleColumns","component","__file"],"mappings":"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","file":"vendors/SheetTool.js","sourcesContent":["var content = require(\"!!../../../../node_modules/css-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--1-3!./SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\");\n\nif (typeof content === 'string') {\n  content = [[module.id, content, '']];\n}\n\nvar options = {}\n\noptions.insert = \"head\";\noptions.singleton = false;\n\nvar update = require(\"!../../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\")(content, options);\n\nif (content.locals) {\n  module.exports = content.locals;\n}\n","module.exports = function (Component) {\n  Component.options.__i18n = Component.options.__i18n || []\n  Component.options.__i18n.push('{\"en\":{\"TEST_MESSAGE\":\"Test Message\"},\"zh-TW\":{\"TEST_MESSAGE\":\"測試訊息\"}}')\n  delete Component.options._Ctor\n}\n","import mod from \"-!../../../../node_modules/style-loader/dist/index.js!../../../../node_modules/css-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--1-3!./SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\"; export default mod; export * from \"-!../../../../node_modules/style-loader/dist/index.js!../../../../node_modules/css-loader/dist/cjs.js??ref--1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--1-2!../../../../node_modules/less-loader/dist/cjs.js??ref--1-3!./SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\"","exports = module.exports = require(\"../../../../node_modules/css-loader/dist/runtime/api.js\")(true);\n// Module\nexports.push([module.id, \"input[data-v-04a3b630]{width:5rem!important}label[data-v-04a3b630]{margin-right:1rem!important;width:3rem!important;text-align:right!important}\", \"\",{\"version\":3,\"sources\":[\"/app/src/components/ReplacePanel/SheetTool/SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\",\"/app/src/components/ReplacePanel/SheetTool/SheetTool.less\"],\"names\":[],\"mappings\":\"AAAA,uBACE,oBCCF,CDEA,uBACE,2BAAA,CACA,oBAAA,CACA,0BCAF\",\"file\":\"SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\",\"sourcesContent\":[\"input {\\n  width: 5rem !important;\\n}\\n\\nlabel {\\n  margin-right: 1rem !important;\\n  width: 3rem !important;\\n  text-align: right !important;\\n}\",\"input {\\n  width: 5rem !important;\\n}\\nlabel {\\n  margin-right: 1rem !important;\\n  width: 3rem !important;\\n  text-align: right !important;\\n}\\n\"]}]);\n","import mod from \"-!../../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./SheetTool.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FReplacePanel%2FSheetTool%2FSheetTool.vue&lang=yaml\"; export default mod; export * from \"-!../../../../node_modules/@kazupon/vue-i18n-loader/lib/index.js!./SheetTool.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FReplacePanel%2FSheetTool%2FSheetTool.vue&lang=yaml\"","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"SheetTool\" }, [\n    _vm.localConfig.formatTool === \"SheetTool.removeColumn\"\n      ? _c(\"div\", { staticClass: \"fields\" }, [\n          _c(\"label\", { attrs: { for: \"SheetToolColumnNumber\" } }, [\n            _vm._v(\"\\n        \" + _vm._s(_vm.$t(\"Col No.\")) + \"\\n      \")\n          ]),\n          _vm._v(\" \"),\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.colNo,\n                expression: \"colNo\"\n              }\n            ],\n            attrs: { type: \"number\", min: \"1\", id: \"SheetToolColumnNumber\" },\n            domProps: { value: _vm.colNo },\n            on: {\n              input: function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.colNo = $event.target.value\n              }\n            }\n          })\n        ])\n      : _vm._e(),\n    _vm._v(\" \"),\n    _vm.localConfig.formatTool === \"SheetTool.sort-lines\"\n      ? _c(\"div\", { staticClass: \"fields\" }, [\n          _c(\"label\", { attrs: { for: \"SheetToolSortLinesLocale\" } }, [\n            _vm._v(\"\\n        \" + _vm._s(_vm.$t(\"Col No.\")) + \"\\n      \")\n          ]),\n          _vm._v(\" \"),\n          _c(\"input\", {\n            directives: [\n              {\n                name: \"model\",\n                rawName: \"v-model\",\n                value: _vm.colNo,\n                expression: \"colNo\"\n              }\n            ],\n            attrs: { type: \"number\", min: \"1\", id: \"SheetToolColumnNumber\" },\n            domProps: { value: _vm.colNo },\n            on: {\n              input: function($event) {\n                if ($event.target.composing) {\n                  return\n                }\n                _vm.colNo = $event.target.value\n              }\n            }\n          })\n        ])\n      : _vm._e()\n  ])\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns }","import mod from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6!./SheetTool.js?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/babel-loader/lib/index.js??ref--6!./SheetTool.js?vue&type=script&lang=js&\"","let SheetTool = {\r\n  props: ['config', 'localConfig', 'utils'],\r\n  data() {\r\n    this.$i18n.locale = this.localConfig.locale\r\n    return {\r\n      colNo: 1\r\n    }\r\n  },\r\n  watch: {\r\n    'localConfig.locale'() {\r\n      this.$i18n.locale = this.localConfig.locale;\r\n    },\r\n  },\r\n  methods: {\r\n    sortLines: function (textContentLines) {\r\n      if (textContentLines.length < 2) {\r\n        return false // 不需要排序\r\n      }\r\n\r\n      let lines = [].concat(textContentLines)\r\n      this.utils.SortUtils.sort(lines)\r\n      if (lines[0] === textContentLines[0]) {\r\n        // lines.reverse()\r\n        this.utils.SortUtils.sort(lines, true)\r\n      }\r\n\r\n      this.localConfig.textContent = lines.join('\\n')\r\n    },\r\n    shuffleLines(textContentLines) {\r\n      let lines\r\n      let splitor = '\\n'\r\n\r\n      if (textContentLines.length < 2) {\r\n        if (textContentLines.length === 1 && textContentLines[0].split('\\t').length > 2) {\r\n          lines = textContentLines[0].split('\\t')\r\n          splitor = '\\t'\r\n        }\r\n        else {\r\n          return false // 不需要排序\r\n        }\r\n\r\n      }\r\n      else {\r\n        lines = [].concat(textContentLines)\r\n      }\r\n\r\n\r\n      let shuffled\r\n      while (true) {\r\n        shuffled = lines\r\n          .map(value => ({ value, sort: Math.random() }))\r\n          .sort((a, b) => a.sort - b.sort)\r\n          .map(({ value }) => value)\r\n\r\n        let done = false\r\n        for (let i = 0; i < shuffled.length; i++) {\r\n          if (shuffled[i] !== textContentLines[i]) {\r\n            done = true\r\n            break\r\n          }\r\n        }\r\n\r\n        if (done) {\r\n          break\r\n        }\r\n      }\r\n\r\n      this.localConfig.textContent = shuffled.join(splitor)\r\n    },\r\n    transpose(textContentLines) {\r\n      let output = []\r\n\r\n      textContentLines.forEach((line, y) => {\r\n        line.split('\\t').forEach((value, x) => {\r\n          if (!output[x]) {\r\n            output[x] = []\r\n          }\r\n          output[x][y] = value\r\n        })\r\n      })\r\n\r\n      this.localConfig.textContent = output.map(line => line.join('\\t')).join('\\n')\r\n    },\r\n    removeColumn (textContentLines) {\r\n      let seperators = ['\\t', ',', ' ']\r\n      this.localConfig.textContent = textContentLines.map(line => {\r\n        let seperator\r\n        for (let i = 0; i < seperators.length; i++) {\r\n          seperator = seperators[i]\r\n          if (line.indexOf(seperator) > -1) {\r\n            break\r\n          }\r\n        }\r\n        \r\n        let columns = line.split(seperator)\r\n        let colIndex = (this.colNo - 1)\r\n        if (columns.length < colIndex && columns.length > 0) {\r\n          colIndex = columns.length - 1\r\n        }\r\n\r\n        if (columns.length >= colIndex) {\r\n          columns.splice(colIndex, 1)\r\n        }\r\n        return columns.join(seperator)\r\n      }).join('\\n')\r\n    },\r\n    removeListPoint (textContentLines) {\r\n      // let seperators = ['\\t', ',', ' ']\r\n      // console.log(textContentLines)\r\n      this.localConfig.textContent = textContentLines.map(line => {\r\n        // console.log(line)\r\n        if (line.startsWith('- ')) {\r\n          return line.slice(2).trim()\r\n        }\r\n\r\n        let pointPos = line.indexOf('. ')\r\n        if (pointPos > 0 && pointPos < 4) {\r\n          return line.slice(pointPos + 2).trim()\r\n        }\r\n      }).join('\\n')\r\n    },\r\n    shuffleColumns (textContentLines) {\r\n      this.transpose(textContentLines)\r\n      this.shuffleLines(textContentLines)\r\n      this.transpose(textContentLines)\r\n    }\r\n  }\r\n}\r\n\r\nexport default SheetTool","import { render, staticRenderFns } from \"./SheetTool.html?vue&type=template&id=04a3b630&scoped=true&\"\nimport script from \"./SheetTool.js?vue&type=script&lang=js&\"\nexport * from \"./SheetTool.js?vue&type=script&lang=js&\"\nimport style0 from \"./SheetTool.less?vue&type=style&index=0&id=04a3b630&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"04a3b630\",\n  null\n  \n)\n\n/* custom blocks */\nimport block0 from \"./SheetTool.yaml?vue&type=custom&index=0&blockType=i18n&issuerPath=%2Fapp%2Fsrc%2Fcomponents%2FReplacePanel%2FSheetTool%2FSheetTool.vue&lang=yaml\"\nif (typeof block0 === 'function') block0(component)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('04a3b630')) {\n      api.createRecord('04a3b630', component.options)\n    } else {\n      api.reload('04a3b630', component.options)\n    }\n    module.hot.accept(\"./SheetTool.html?vue&type=template&id=04a3b630&scoped=true&\", function () {\n      api.rerender('04a3b630', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"src/components/ReplacePanel/SheetTool/SheetTool.vue\"\nexport default component.exports"],"sourceRoot":""}