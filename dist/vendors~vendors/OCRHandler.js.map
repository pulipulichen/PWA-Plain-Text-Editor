{"version":3,"sources":["webpack:///./node_modules/tesseract.js/src/utils/getId.js","webpack:///./node_modules/tesseract.js/src/utils/log.js","webpack:///./node_modules/resolve-url/resolve-url.js","webpack:///./node_modules/tesseract.js/src/createJob.js","webpack:///./node_modules/tesseract.js/src/createWorker.js","webpack:///./node_modules/tesseract.js/src/constants/OEM.js","webpack:///./node_modules/blueimp-load-image/js/load-image-scale.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc.js","webpack:///./node_modules/tesseract.js/src/index.js","webpack:///./node_modules/regenerator-runtime/runtime.js","webpack:///./node_modules/tesseract.js/src/createScheduler.js","webpack:///./node_modules/tesseract.js/src/utils/resolvePaths.js","webpack:///./node_modules/tesseract.js/src/utils/getEnvironment.js","webpack:///./node_modules/is-electron/index.js","webpack:///./node_modules/tesseract.js/src/utils/circularize.js","webpack:///./node_modules/tesseract.js/src/constants/config.js","webpack:///./node_modules/tesseract.js/src/worker/browser/index.js","webpack:///./node_modules/tesseract.js/src/worker/browser/defaultOptions.js","webpack:///./node_modules/tesseract.js/src/constants/defaultOptions.js","webpack:///./node_modules/tesseract.js/src/worker/browser/spawnWorker.js","webpack:///./node_modules/tesseract.js/src/worker/browser/terminateWorker.js","webpack:///./node_modules/tesseract.js/src/worker/browser/onMessage.js","webpack:///./node_modules/tesseract.js/src/worker/browser/send.js","webpack:///./node_modules/tesseract.js/src/worker/browser/loadImage.js","webpack:///./node_modules/blueimp-load-image/js/index.js","webpack:///./node_modules/blueimp-load-image/js/load-image-fetch.js","webpack:///./node_modules/blueimp-load-image/js/load-image-exif-map.js","webpack:///./node_modules/blueimp-load-image/js/load-image-iptc-map.js","webpack:///./node_modules/blueimp-load-image/js/load-image-orientation.js","webpack:///./node_modules/tesseract.js/src/Tesseract.js","webpack:///./node_modules/tesseract.js/src/constants/PSM.js","webpack:///./node_modules/blueimp-load-image/js/load-image.js","webpack:///./node_modules/blueimp-load-image/js/load-image-meta.js"],"names":["module","exports","prefix","cnt","Math","random","toString","slice","let","logging","setLogging","_logging","log","args","console","apply","this","resolveUrl","numUrls","arguments","length","Error","base","document","createElement","href","head","getElementsByTagName","insertBefore","firstChild","a","resolved","index","removeChild","getId","jobCounter","id","_id","action","payload","resolvePaths","circularize","createJob","defaultOEM","defaultOptions","spawnWorker","terminateWorker","onMessage","loadImage","send","workerCounter","_options","logger","errorHandler","options","resolves","rejects","worker","setResolve","res","setReject","rej","startJob","jobId","Promise","resolve","reject","workerId","status","data","d","Array","from","Object","keys","load","writeText","path","text","method","readText","encoding","removeFile","FS","loadLanguage","langs","initialize","oem","setParameters","params","recognize","async","image","opts","await","getPDF","title","textonly","detect","terminate","TESSERACT_ONLY","LSTM_ONLY","TESSERACT_LSTM_COMBINED","DEFAULT","originalTransform","transform","img","callback","file","call","scale","transformCoordinates","getTransformedOptions","aspectRatio","newOptions","i","width","height","prototype","hasOwnProperty","crop","naturalWidth","naturalHeight","maxWidth","maxHeight","renderImageToCanvas","canvas","sourceX","sourceY","sourceWidth","sourceHeight","destX","destY","destWidth","destHeight","ctx","getContext","imageSmoothingEnabled","imageSmoothingQuality","drawImage","hasCanvasOption","useCanvas","minWidth","minHeight","pixelRatio","downsamplingRatio","tmp","scaleUp","max","scaleDown","min","left","top","right","undefined","bottom","contain","cover","style","ExifMap","tagCode","defineProperty","value","privateIFDs","map","tags","getExifThumbnail","dataView","offset","byteLength","Blob","buffer","type","Orientation","Thumbnail","Exif","GPSInfo","Interoperability","name","get","ExifTagTypes","1","getValue","dataOffset","getUint8","size","2","String","fromCharCode","ascii","3","littleEndian","getUint16","4","getUint32","5","9","getInt32","10","getExifValue","tiffOffset","tagType","tagSize","values","str","c","parseExifTags","dirOffset","tagOffsets","includeTags","excludeTags","tagsNumber","dirEndOffset","tagOffset","tagNumber","tagValue","parseExifPrivateIFD","exif","exifOffsets","parseExifData","disableExif","includeExifTags","excludeExifTags","disableExifOffsets","exifTiffOffset","exifLittleEndian","disableExifThumbnail","forEach","metaDataParsers","jpeg","push","exifWriters","view","DataView","setUint16","writeExifData","IptcMap","getStringValue","outstr","end","n","getTagValue","types","combineTagValues","newValue","parseIptcTags","segmentOffset","segmentLength","segmentEnd","getInt16","iptc","iptcOffsets","isSegmentStart","getHeaderLength","ObjectName","0","200","201","202","parseIptcData","disableIptc","markerLength","headerLength","disableIptcOffsets","includeIptcTags","excludeIptcTags","createScheduler","createWorker","Tesseract","OEM","PSM","runtime","Op","hasOwn","obj","key","desc","$Symbol","Symbol","iteratorSymbol","iterator","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","context","state","protoGenerator","Generator","generator","create","Context","GenStateSuspendedStart","arg","GenStateExecuting","GenStateCompleted","doneResult","delegate","delegateResult","maybeInvokeDelegate","methodName","TypeError","ContinueSentinel","record","tryCatch","info","done","resultName","next","nextLoc","sent","_sent","dispatchException","abrupt","GenStateSuspendedYield","fn","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","getProto","getPrototypeOf","NativeIteratorPrototype","Gp","defineIteratorMethods","_invoke","AsyncIterator","PromiseImpl","previousPromise","callInvokeWithMethodAndArg","invoke","result","__await","then","unwrapped","error","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","displayName","isGeneratorFunction","genFun","ctor","constructor","mark","setPrototypeOf","__proto__","awrap","iter","val","object","reverse","pop","skipTempReset","prev","charAt","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","thrown","delegateYield","regeneratorRuntime","accidentalStrictMode","globalThis","Function","schedulerCounter","workers","runningWorkers","jobQueue","getNumWorkers","dequeue","wIds","queue","job","w","shift","addWorker","addJob","wid","getQueueLen","resolveURL","s","env","WorkerGlobalScope","window","isElectron","process","versions","electron","navigator","userAgent","indexOf","blocks","paragraphs","lines","words","symbols","page","block","paragraph","line","word","sym","version","dependencies","workerPath","TESS_ENV","corePath","substring","WebAssembly","langPath","workerBlobURL","URL","blob","Worker","createObjectURL","handler","onmessage","packet","postMessage","blueimpLoadImage","readFromBlobOrFile","fileReader","FileReader","onload","onerror","target","code","readAsArrayBuffer","fixOrientationFromUrlOrBlobOrFile","toBlob","orientation","endsWith","resp","fetch","arrayBuffer","test","HTMLElement","tagName","src","poster","File","Uint8Array","Request","fetchBlob","url","response","catch","XMLHttpRequest","ProgressEvent","req","open","headers","setRequestHeader","withCredentials","credentials","responseType","onabort","ontimeout","body","ExifMapProto","prop","privateIFD","subTags","stringValues","ExposureProgram","6","7","8","MeteringMode","255","LightSource","11","12","13","14","15","17","18","19","20","21","22","23","24","Flash","SensingMethod","SceneCaptureType","SceneType","CustomRendered","WhiteBalance","GainControl","Contrast","Saturation","Sharpness","SubjectDistanceRange","FileSource","ComponentsConfiguration","getText","getAll","getName","Number","IptcMapProto","25","26","27","30","35","37","38","40","42","45","47","50","55","60","62","63","65","70","75","80","85","90","92","95","100","101","103","105","110","115","116","118","120","121","122","125","130","131","135","150","151","152","153","154","184","185","186","187","188","221","225","228","230","231","232","b","p","L","P","S","stringValue","originalHasCanvasOption","originalHasMetaOption","hasMetaOption","originalTransformCoordinates","originalGetTransformedOptions","testImageURL","styleWidth","styleHeight","translate","rotate","PI","finally","OSD_ONLY","AUTO_OSD","AUTO_ONLY","AUTO","SINGLE_COLUMN","SINGLE_BLOCK_VERT_TEXT","SINGLE_BLOCK","SINGLE_LINE","SINGLE_WORD","CIRCLE_WORD","SINGLE_CHAR","SPARSE_TEXT","SPARSE_TEXT_OSD","$","fetchBlobCallback","isInstanceOf","crossOrigin","event","readFile","e","urlAPI","revokeObjectURL","webkitURL","revokeHelper","noRevoke","meta","originalWidth","originalHeight","hasblobSlice","webkitSlice","mozSlice","blobSlice","parseMetaData","that","maxMetaDataSize","noMetaData","maxOffset","headLength","markerBytes","parsers","disableMetaDataParsers","disableImageHead","imageHead","subarray","replaceHead"],"mappings":"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","file":"vendors~vendors/OCRHandler.js","sourcesContent":["module.exports = (prefix, cnt) => (\n  `${prefix}-${cnt}-${Math.random().toString(16).slice(3, 8)}`\n);\n","let logging = false;\n\nexports.logging = logging;\n\nexports.setLogging = (_logging) => {\n  logging = _logging;\n};\n\nexports.log = (...args) => (logging ? console.log.apply(this, args) : null);\n","// Copyright 2014 Simon Lydell\r\n// X11 (“MIT”) Licensed. (See LICENSE.)\r\n\r\nvoid (function(root, factory) {\r\n  if (typeof define === \"function\" && define.amd) {\r\n    define(factory)\r\n  } else if (typeof exports === \"object\") {\r\n    module.exports = factory()\r\n  } else {\r\n    root.resolveUrl = factory()\r\n  }\r\n}(this, function() {\r\n\r\n  function resolveUrl(/* ...urls */) {\r\n    var numUrls = arguments.length\r\n\r\n    if (numUrls === 0) {\r\n      throw new Error(\"resolveUrl requires at least one argument; got none.\")\r\n    }\r\n\r\n    var base = document.createElement(\"base\")\r\n    base.href = arguments[0]\r\n\r\n    if (numUrls === 1) {\r\n      return base.href\r\n    }\r\n\r\n    var head = document.getElementsByTagName(\"head\")[0]\r\n    head.insertBefore(base, head.firstChild)\r\n\r\n    var a = document.createElement(\"a\")\r\n    var resolved\r\n\r\n    for (var index = 1; index < numUrls; index++) {\r\n      a.href = arguments[index]\r\n      resolved = a.href\r\n      base.href = resolved\r\n    }\r\n\r\n    head.removeChild(base)\r\n\r\n    return resolved\r\n  }\r\n\r\n  return resolveUrl\r\n\r\n}));\r\n","const getId = require('./utils/getId');\n\nlet jobCounter = 0;\n\nmodule.exports = ({\n  id: _id,\n  action,\n  payload = {},\n}) => {\n  let id = _id;\n  if (typeof id === 'undefined') {\n    id = getId('Job', jobCounter);\n    jobCounter += 1;\n  }\n\n  return {\n    id,\n    action,\n    payload,\n  };\n};\n","const resolvePaths = require('./utils/resolvePaths');\nconst circularize = require('./utils/circularize');\nconst createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\nconst { defaultOEM } = require('./constants/config');\nconst {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  loadImage,\n  send,\n} = require('./worker/node');\n\nlet workerCounter = 0;\n\nmodule.exports = (_options = {}) => {\n  const id = getId('Worker', workerCounter);\n  const {\n    logger,\n    errorHandler,\n    ...options\n  } = resolvePaths({\n    ...defaultOptions,\n    ..._options,\n  });\n  const resolves = {};\n  const rejects = {};\n  let worker = spawnWorker(options);\n\n  workerCounter += 1;\n\n  const setResolve = (action, res) => {\n    resolves[action] = res;\n  };\n\n  const setReject = (action, rej) => {\n    rejects[action] = rej;\n  };\n\n  const startJob = ({ id: jobId, action, payload }) => (\n    new Promise((resolve, reject) => {\n      log(`[${id}]: Start ${jobId}, action=${action}`);\n      setResolve(action, resolve);\n      setReject(action, reject);\n      send(worker, {\n        workerId: id,\n        jobId,\n        action,\n        payload,\n      });\n    })\n  );\n\n  const load = (jobId) => (\n    startJob(createJob({\n      id: jobId, action: 'load', payload: { options },\n    }))\n  );\n\n  const writeText = (path, text, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'writeFile', args: [path, text] },\n    }))\n  );\n\n  const readText = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'readFile', args: [path, { encoding: 'utf8' }] },\n    }))\n  );\n\n  const removeFile = (path, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method: 'unlink', args: [path] },\n    }))\n  );\n\n  const FS = (method, args, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'FS',\n      payload: { method, args },\n    }))\n  );\n\n  const loadLanguage = (langs = 'eng', jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'loadLanguage',\n      payload: { langs, options },\n    }))\n  );\n\n  const initialize = (langs = 'eng', oem = defaultOEM, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'initialize',\n      payload: { langs, oem },\n    }))\n  );\n\n  const setParameters = (params = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'setParameters',\n      payload: { params },\n    }))\n  );\n\n  const recognize = async (image, opts = {}, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'recognize',\n      payload: { image: await loadImage(image), options: opts },\n    }))\n  );\n\n  const getPDF = (title = 'Tesseract OCR Result', textonly = false, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'getPDF',\n      payload: { title, textonly },\n    }))\n  );\n\n  const detect = async (image, jobId) => (\n    startJob(createJob({\n      id: jobId,\n      action: 'detect',\n      payload: { image: await loadImage(image) },\n    }))\n  );\n\n  const terminate = async () => {\n    if (worker !== null) {\n      /*\n      await startJob(createJob({\n        id: jobId,\n        action: 'terminate',\n      }));\n      */\n      terminateWorker(worker);\n      worker = null;\n    }\n    return Promise.resolve();\n  };\n\n  onMessage(worker, ({\n    workerId, jobId, status, action, data,\n  }) => {\n    if (status === 'resolve') {\n      log(`[${workerId}]: Complete ${jobId}`);\n      let d = data;\n      if (action === 'recognize') {\n        d = circularize(data);\n      } else if (action === 'getPDF') {\n        d = Array.from({ ...data, length: Object.keys(data).length });\n      }\n      resolves[action]({ jobId, data: d });\n    } else if (status === 'reject') {\n      rejects[action](data);\n      if (errorHandler) {\n        errorHandler(data);\n      } else {\n        throw Error(data);\n      }\n    } else if (status === 'progress') {\n      logger(data);\n    }\n  });\n\n  return {\n    id,\n    worker,\n    setResolve,\n    setReject,\n    load,\n    writeText,\n    readText,\n    removeFile,\n    FS,\n    loadLanguage,\n    initialize,\n    setParameters,\n    recognize,\n    getPDF,\n    detect,\n    terminate,\n  };\n};\n","/*\n * OEM = OCR Engine Mode, and there are 4 possible modes.\n *\n * By default tesseract.js uses LSTM_ONLY mode.\n *\n */\nmodule.exports = {\n  TESSERACT_ONLY: 0,\n  LSTM_ONLY: 1,\n  TESSERACT_LSTM_COMBINED: 2,\n  DEFAULT: 3,\n};\n","/*\n * JavaScript Load Image Scaling\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalTransform = loadImage.transform\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    originalTransform.call(\n      loadImage,\n      loadImage.scale(img, options, data),\n      options,\n      callback,\n      file,\n      data\n    )\n  }\n\n  // Transform image coordinates, allows to override e.g.\n  // the canvas orientation based on the orientation option,\n  // gets canvas, options passed as arguments:\n  loadImage.transformCoordinates = function () {}\n\n  // Returns transformed options, allows to override e.g.\n  // maxWidth, maxHeight and crop options based on the aspectRatio.\n  // gets img, options passed as arguments:\n  loadImage.getTransformedOptions = function (img, options) {\n    var aspectRatio = options.aspectRatio\n    var newOptions\n    var i\n    var width\n    var height\n    if (!aspectRatio) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.crop = true\n    width = img.naturalWidth || img.width\n    height = img.naturalHeight || img.height\n    if (width / height > aspectRatio) {\n      newOptions.maxWidth = height * aspectRatio\n      newOptions.maxHeight = height\n    } else {\n      newOptions.maxWidth = width\n      newOptions.maxHeight = width / aspectRatio\n    }\n    return newOptions\n  }\n\n  // Canvas render method, allows to implement a different rendering algorithm:\n  loadImage.renderImageToCanvas = function (\n    canvas,\n    img,\n    sourceX,\n    sourceY,\n    sourceWidth,\n    sourceHeight,\n    destX,\n    destY,\n    destWidth,\n    destHeight,\n    options\n  ) {\n    var ctx = canvas.getContext('2d')\n    if (options.imageSmoothingEnabled === false) {\n      ctx.imageSmoothingEnabled = false\n    } else if (options.imageSmoothingQuality) {\n      ctx.imageSmoothingQuality = options.imageSmoothingQuality\n    }\n    ctx.drawImage(\n      img,\n      sourceX,\n      sourceY,\n      sourceWidth,\n      sourceHeight,\n      destX,\n      destY,\n      destWidth,\n      destHeight\n    )\n    return canvas\n  }\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return options.canvas || options.crop || !!options.aspectRatio\n  }\n\n  // Scales and/or crops the given image (img or canvas HTML element)\n  // using the given options.\n  // Returns a canvas object if the browser supports canvas\n  // and the hasCanvasOption method returns true or a canvas\n  // object is passed as image, else the scaled image:\n  loadImage.scale = function (img, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    var canvas = document.createElement('canvas')\n    var useCanvas =\n      img.getContext ||\n      (loadImage.hasCanvasOption(options) && canvas.getContext)\n    var width = img.naturalWidth || img.width\n    var height = img.naturalHeight || img.height\n    var destWidth = width\n    var destHeight = height\n    var maxWidth\n    var maxHeight\n    var minWidth\n    var minHeight\n    var sourceWidth\n    var sourceHeight\n    var sourceX\n    var sourceY\n    var pixelRatio\n    var downsamplingRatio\n    var tmp\n    /**\n     * Scales up image dimensions\n     */\n    function scaleUp() {\n      var scale = Math.max(\n        (minWidth || destWidth) / destWidth,\n        (minHeight || destHeight) / destHeight\n      )\n      if (scale > 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    /**\n     * Scales down image dimensions\n     */\n    function scaleDown() {\n      var scale = Math.min(\n        (maxWidth || destWidth) / destWidth,\n        (maxHeight || destHeight) / destHeight\n      )\n      if (scale < 1) {\n        destWidth *= scale\n        destHeight *= scale\n      }\n    }\n    if (useCanvas) {\n      // eslint-disable-next-line no-param-reassign\n      options = loadImage.getTransformedOptions(img, options, data)\n      sourceX = options.left || 0\n      sourceY = options.top || 0\n      if (options.sourceWidth) {\n        sourceWidth = options.sourceWidth\n        if (options.right !== undefined && options.left === undefined) {\n          sourceX = width - sourceWidth - options.right\n        }\n      } else {\n        sourceWidth = width - sourceX - (options.right || 0)\n      }\n      if (options.sourceHeight) {\n        sourceHeight = options.sourceHeight\n        if (options.bottom !== undefined && options.top === undefined) {\n          sourceY = height - sourceHeight - options.bottom\n        }\n      } else {\n        sourceHeight = height - sourceY - (options.bottom || 0)\n      }\n      destWidth = sourceWidth\n      destHeight = sourceHeight\n    }\n    maxWidth = options.maxWidth\n    maxHeight = options.maxHeight\n    minWidth = options.minWidth\n    minHeight = options.minHeight\n    if (useCanvas && maxWidth && maxHeight && options.crop) {\n      destWidth = maxWidth\n      destHeight = maxHeight\n      tmp = sourceWidth / sourceHeight - maxWidth / maxHeight\n      if (tmp < 0) {\n        sourceHeight = (maxHeight * sourceWidth) / maxWidth\n        if (options.top === undefined && options.bottom === undefined) {\n          sourceY = (height - sourceHeight) / 2\n        }\n      } else if (tmp > 0) {\n        sourceWidth = (maxWidth * sourceHeight) / maxHeight\n        if (options.left === undefined && options.right === undefined) {\n          sourceX = (width - sourceWidth) / 2\n        }\n      }\n    } else {\n      if (options.contain || options.cover) {\n        minWidth = maxWidth = maxWidth || minWidth\n        minHeight = maxHeight = maxHeight || minHeight\n      }\n      if (options.cover) {\n        scaleDown()\n        scaleUp()\n      } else {\n        scaleUp()\n        scaleDown()\n      }\n    }\n    if (useCanvas) {\n      pixelRatio = options.pixelRatio\n      if (pixelRatio > 1) {\n        canvas.style.width = destWidth + 'px'\n        canvas.style.height = destHeight + 'px'\n        destWidth *= pixelRatio\n        destHeight *= pixelRatio\n        canvas.getContext('2d').scale(pixelRatio, pixelRatio)\n      }\n      downsamplingRatio = options.downsamplingRatio\n      if (\n        downsamplingRatio > 0 &&\n        downsamplingRatio < 1 &&\n        destWidth < sourceWidth &&\n        destHeight < sourceHeight\n      ) {\n        while (sourceWidth * downsamplingRatio > destWidth) {\n          canvas.width = sourceWidth * downsamplingRatio\n          canvas.height = sourceHeight * downsamplingRatio\n          loadImage.renderImageToCanvas(\n            canvas,\n            img,\n            sourceX,\n            sourceY,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            canvas.width,\n            canvas.height,\n            options\n          )\n          sourceX = 0\n          sourceY = 0\n          sourceWidth = canvas.width\n          sourceHeight = canvas.height\n          // eslint-disable-next-line no-param-reassign\n          img = document.createElement('canvas')\n          img.width = sourceWidth\n          img.height = sourceHeight\n          loadImage.renderImageToCanvas(\n            img,\n            canvas,\n            0,\n            0,\n            sourceWidth,\n            sourceHeight,\n            0,\n            0,\n            sourceWidth,\n            sourceHeight,\n            options\n          )\n        }\n      }\n      canvas.width = destWidth\n      canvas.height = destHeight\n      loadImage.transformCoordinates(canvas, options)\n      return loadImage.renderImageToCanvas(\n        canvas,\n        img,\n        sourceX,\n        sourceY,\n        sourceWidth,\n        sourceHeight,\n        0,\n        0,\n        destWidth,\n        destHeight,\n        options\n      )\n    }\n    img.width = destWidth\n    img.height = destHeight\n    return img\n  }\n})\n","/*\n * JavaScript Load Image Exif Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n/* eslint-disable no-console */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * Exif tag map\n   *\n   * @name ExifMap\n   * @class\n   * @param {number} tagCode Private IFD tag code\n   */\n  function ExifMap(tagCode) {\n    if (tagCode) {\n      Object.defineProperty(this, 'map', {\n        value: this.privateIFDs[tagCode].map\n      })\n      Object.defineProperty(this, 'tags', {\n        value: (this.tags && this.tags[tagCode]) || {}\n      })\n    }\n  }\n\n  ExifMap.prototype.map = {\n    Orientation: 0x0112,\n    Thumbnail: 0x0201,\n    Exif: 0x8769,\n    GPSInfo: 0x8825,\n    Interoperability: 0xa005\n  }\n\n  ExifMap.prototype.privateIFDs = {\n    0x8769: { name: 'Exif', map: {} },\n    0x8825: { name: 'GPSInfo', map: {} },\n    0xa005: { name: 'Interoperability', map: {} }\n  }\n\n  /**\n   * Retrieves exif tag value\n   *\n   * @param {number|string} id Exif tag code or name\n   * @returns {object} Exif tag value\n   */\n  ExifMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Returns the Exif Thumbnail data as Blob.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Thumbnail data offset\n   * @param {number} length Thumbnail data length\n   * @returns {undefined|Blob} Returns the Thumbnail Blob or undefined\n   */\n  function getExifThumbnail(dataView, offset, length) {\n    if (!length || offset + length > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid thumbnail data.')\n      return\n    }\n    return new Blob([dataView.buffer.slice(offset, offset + length)], {\n      type: 'image/jpeg'\n    })\n  }\n\n  var ExifTagTypes = {\n    // byte, 8-bit unsigned int:\n    1: {\n      getValue: function (dataView, dataOffset) {\n        return dataView.getUint8(dataOffset)\n      },\n      size: 1\n    },\n    // ascii, 8-bit byte:\n    2: {\n      getValue: function (dataView, dataOffset) {\n        return String.fromCharCode(dataView.getUint8(dataOffset))\n      },\n      size: 1,\n      ascii: true\n    },\n    // short, 16 bit int:\n    3: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint16(dataOffset, littleEndian)\n      },\n      size: 2\n    },\n    // long, 32 bit int:\n    4: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getUint32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // rational = two long values, first is numerator, second is denominator:\n    5: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getUint32(dataOffset, littleEndian) /\n          dataView.getUint32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    },\n    // slong, 32 bit signed int:\n    9: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return dataView.getInt32(dataOffset, littleEndian)\n      },\n      size: 4\n    },\n    // srational, two slongs, first is numerator, second is denominator:\n    10: {\n      getValue: function (dataView, dataOffset, littleEndian) {\n        return (\n          dataView.getInt32(dataOffset, littleEndian) /\n          dataView.getInt32(dataOffset + 4, littleEndian)\n        )\n      },\n      size: 8\n    }\n  }\n  // undefined, 8-bit byte, value depending on field:\n  ExifTagTypes[7] = ExifTagTypes[1]\n\n  /**\n   * Returns Exif tag value.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} offset Tag offset\n   * @param {number} type Tag type\n   * @param {number} length Tag length\n   * @param {boolean} littleEndian Little endian encoding\n   * @returns {object} Tag value\n   */\n  function getExifValue(\n    dataView,\n    tiffOffset,\n    offset,\n    type,\n    length,\n    littleEndian\n  ) {\n    var tagType = ExifTagTypes[type]\n    var tagSize\n    var dataOffset\n    var values\n    var i\n    var str\n    var c\n    if (!tagType) {\n      console.log('Invalid Exif data: Invalid tag type.')\n      return\n    }\n    tagSize = tagType.size * length\n    // Determine if the value is contained in the dataOffset bytes,\n    // or if the value at the dataOffset is a pointer to the actual data:\n    dataOffset =\n      tagSize > 4\n        ? tiffOffset + dataView.getUint32(offset + 8, littleEndian)\n        : offset + 8\n    if (dataOffset + tagSize > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid data offset.')\n      return\n    }\n    if (length === 1) {\n      return tagType.getValue(dataView, dataOffset, littleEndian)\n    }\n    values = []\n    for (i = 0; i < length; i += 1) {\n      values[i] = tagType.getValue(\n        dataView,\n        dataOffset + i * tagType.size,\n        littleEndian\n      )\n    }\n    if (tagType.ascii) {\n      str = ''\n      // Concatenate the chars:\n      for (i = 0; i < values.length; i += 1) {\n        c = values[i]\n        // Ignore the terminating NULL byte(s):\n        if (c === '\\u0000') {\n          break\n        }\n        str += c\n      }\n      return str\n    }\n    return values\n  }\n\n  /**\n   * Parses Exif tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {number} dirOffset Directory offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {ExifMap} tags Map to store parsed exif tags\n   * @param {ExifMap} tagOffsets Map to store parsed exif tag offsets\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   * @returns {number} Next directory offset\n   */\n  function parseExifTags(\n    dataView,\n    tiffOffset,\n    dirOffset,\n    littleEndian,\n    tags,\n    tagOffsets,\n    includeTags,\n    excludeTags\n  ) {\n    var tagsNumber, dirEndOffset, i, tagOffset, tagNumber, tagValue\n    if (dirOffset + 6 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory offset.')\n      return\n    }\n    tagsNumber = dataView.getUint16(dirOffset, littleEndian)\n    dirEndOffset = dirOffset + 2 + 12 * tagsNumber\n    if (dirEndOffset + 4 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid directory size.')\n      return\n    }\n    for (i = 0; i < tagsNumber; i += 1) {\n      tagOffset = dirOffset + 2 + 12 * i\n      tagNumber = dataView.getUint16(tagOffset, littleEndian)\n      if (includeTags && !includeTags[tagNumber]) continue\n      if (excludeTags && excludeTags[tagNumber] === true) continue\n      tagValue = getExifValue(\n        dataView,\n        tiffOffset,\n        tagOffset,\n        dataView.getUint16(tagOffset + 2, littleEndian), // tag type\n        dataView.getUint32(tagOffset + 4, littleEndian), // tag length\n        littleEndian\n      )\n      tags[tagNumber] = tagValue\n      if (tagOffsets) {\n        tagOffsets[tagNumber] = tagOffset\n      }\n    }\n    // Return the offset to the next directory:\n    return dataView.getUint32(dirEndOffset, littleEndian)\n  }\n\n  /**\n   * Parses Private IFD tags.\n   *\n   * @param {object} data Data object to store exif tags and offsets\n   * @param {number} tagCode Private IFD tag code\n   * @param {DataView} dataView Data view interface\n   * @param {number} tiffOffset TIFF offset\n   * @param {boolean} littleEndian Little endian encoding\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseExifPrivateIFD(\n    data,\n    tagCode,\n    dataView,\n    tiffOffset,\n    littleEndian,\n    includeTags,\n    excludeTags\n  ) {\n    var dirOffset = data.exif[tagCode]\n    if (dirOffset) {\n      data.exif[tagCode] = new ExifMap(tagCode)\n      if (data.exifOffsets) {\n        data.exifOffsets[tagCode] = new ExifMap(tagCode)\n      }\n      parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif[tagCode],\n        data.exifOffsets && data.exifOffsets[tagCode],\n        includeTags && includeTags[tagCode],\n        excludeTags && excludeTags[tagCode]\n      )\n    }\n  }\n\n  loadImage.parseExifData = function (dataView, offset, length, data, options) {\n    if (options.disableExif) {\n      return\n    }\n    var includeTags = options.includeExifTags\n    var excludeTags = options.excludeExifTags || {\n      0x8769: {\n        // ExifIFDPointer\n        0x927c: true // MakerNote\n      }\n    }\n    var tiffOffset = offset + 10\n    var littleEndian\n    var dirOffset\n    var privateIFDs\n    // Check for the ASCII code for \"Exif\" (0x45786966):\n    if (dataView.getUint32(offset + 4) !== 0x45786966) {\n      // No Exif data, might be XMP data instead\n      return\n    }\n    if (tiffOffset + 8 > dataView.byteLength) {\n      console.log('Invalid Exif data: Invalid segment size.')\n      return\n    }\n    // Check for the two null bytes:\n    if (dataView.getUint16(offset + 8) !== 0x0000) {\n      console.log('Invalid Exif data: Missing byte alignment offset.')\n      return\n    }\n    // Check the byte alignment:\n    switch (dataView.getUint16(tiffOffset)) {\n      case 0x4949:\n        littleEndian = true\n        break\n      case 0x4d4d:\n        littleEndian = false\n        break\n      default:\n        console.log('Invalid Exif data: Invalid byte alignment marker.')\n        return\n    }\n    // Check for the TIFF tag marker (0x002A):\n    if (dataView.getUint16(tiffOffset + 2, littleEndian) !== 0x002a) {\n      console.log('Invalid Exif data: Missing TIFF marker.')\n      return\n    }\n    // Retrieve the directory offset bytes, usually 0x00000008 or 8 decimal:\n    dirOffset = dataView.getUint32(tiffOffset + 4, littleEndian)\n    // Create the exif object to store the tags:\n    data.exif = new ExifMap()\n    if (!options.disableExifOffsets) {\n      data.exifOffsets = new ExifMap()\n      data.exifTiffOffset = tiffOffset\n      data.exifLittleEndian = littleEndian\n    }\n    // Parse the tags of the main image directory and retrieve the\n    // offset to the next directory, usually the thumbnail directory:\n    dirOffset = parseExifTags(\n      dataView,\n      tiffOffset,\n      tiffOffset + dirOffset,\n      littleEndian,\n      data.exif,\n      data.exifOffsets,\n      includeTags,\n      excludeTags\n    )\n    if (dirOffset && !options.disableExifThumbnail) {\n      dirOffset = parseExifTags(\n        dataView,\n        tiffOffset,\n        tiffOffset + dirOffset,\n        littleEndian,\n        data.exif,\n        data.exifOffsets,\n        includeTags,\n        excludeTags\n      )\n      // Check for JPEG Thumbnail offset:\n      if (data.exif[0x0201] && data.exif[0x0202]) {\n        data.exif[0x0201] = getExifThumbnail(\n          dataView,\n          tiffOffset + data.exif[0x0201],\n          data.exif[0x0202] // Thumbnail data length\n        )\n      }\n    }\n    privateIFDs = Object.keys(data.exif.privateIFDs)\n    privateIFDs.forEach(function (tagCode) {\n      parseExifPrivateIFD(\n        data,\n        tagCode,\n        dataView,\n        tiffOffset,\n        littleEndian,\n        includeTags,\n        excludeTags\n      )\n    })\n  }\n\n  // Registers the Exif parser for the APP1 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffe1].push(loadImage.parseExifData)\n\n  loadImage.exifWriters = {\n    // Orientation writer:\n    0x0112: function (buffer, data, value) {\n      var view = new DataView(buffer, data.exifOffsets[0x0112] + 8, 2)\n      view.setUint16(0, value, data.exifLittleEndian)\n      return buffer\n    }\n  }\n\n  loadImage.writeExifData = function (buffer, data, id, value) {\n    loadImage.exifWriters[data.exif.map[id]](buffer, data, value)\n  }\n\n  loadImage.ExifMap = ExifMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - exif: The parsed Exif tags\n  // - exifOffsets: The parsed Exif tag offsets\n  // - exifTiffOffset: TIFF header offset (used for offset pointers)\n  // - exifLittleEndian: little endian order if true, big endian if false\n\n  // Adds the following options to the parseMetaData method:\n  // - disableExif: Disables Exif parsing when true.\n  // - disableExifThumbnail: Disables parsing of Thumbnail data when true.\n  // - disableExifOffsets: Disables storing Exif tag offsets when true.\n  // - includeExifTags: A map of Exif tags to include for parsing.\n  // - excludeExifTags: A map of Exif tags to exclude from parsing.\n})\n","/*\n * JavaScript Load Image IPTC Parser\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-meta'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  /**\n   * IPTC tag map\n   *\n   * @name IptcMap\n   * @class\n   */\n  function IptcMap() {}\n\n  IptcMap.prototype.map = {\n    ObjectName: 5\n  }\n\n  IptcMap.prototype.types = {\n    0: 'Uint16', // ApplicationRecordVersion\n    200: 'Uint16', // ObjectPreviewFileFormat\n    201: 'Uint16', // ObjectPreviewFileVersion\n    202: 'binary' // ObjectPreviewData\n  }\n\n  /**\n   * Retrieves IPTC tag value\n   *\n   * @param {number|string} id IPTC tag code or name\n   * @returns {object} IPTC tag value\n   */\n  IptcMap.prototype.get = function (id) {\n    return this[id] || this[this.map[id]]\n  }\n\n  /**\n   * Retrieves string for the given DataView and range\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Offset start\n   * @param {number} length Offset length\n   * @returns {string} String value\n   */\n  function getStringValue(dataView, offset, length) {\n    var outstr = ''\n    var end = offset + length\n    for (var n = offset; n < end; n += 1) {\n      outstr += String.fromCharCode(dataView.getUint8(n))\n    }\n    return outstr\n  }\n\n  /**\n   * Retrieves tag value for the given DataView and range\n   *\n   * @param {number} tagCode Private IFD tag code\n   * @param {IptcMap} map IPTC tag map\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Range start\n   * @param {number} length Range length\n   * @returns {object} Tag value\n   */\n  function getTagValue(tagCode, map, dataView, offset, length) {\n    if (map.types[tagCode] === 'binary') {\n      return new Blob([dataView.buffer.slice(offset, offset + length)])\n    }\n    if (map.types[tagCode] === 'Uint16') {\n      return dataView.getUint16(offset)\n    }\n    return getStringValue(dataView, offset, length)\n  }\n\n  /**\n   * Combines IPTC value with existing ones.\n   *\n   * @param {object} value Existing IPTC field value\n   * @param {object} newValue New IPTC field value\n   * @returns {object} Resulting IPTC field value\n   */\n  function combineTagValues(value, newValue) {\n    if (value === undefined) return newValue\n    if (value instanceof Array) {\n      value.push(newValue)\n      return value\n    }\n    return [value, newValue]\n  }\n\n  /**\n   * Parses IPTC tags.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} segmentOffset Segment offset\n   * @param {number} segmentLength Segment length\n   * @param {object} data Data export object\n   * @param {object} includeTags Map of tags to include\n   * @param {object} excludeTags Map of tags to exclude\n   */\n  function parseIptcTags(\n    dataView,\n    segmentOffset,\n    segmentLength,\n    data,\n    includeTags,\n    excludeTags\n  ) {\n    var value, tagSize, tagCode\n    var segmentEnd = segmentOffset + segmentLength\n    var offset = segmentOffset\n    while (offset < segmentEnd) {\n      if (\n        dataView.getUint8(offset) === 0x1c && // tag marker\n        dataView.getUint8(offset + 1) === 0x02 // record number, only handles v2\n      ) {\n        tagCode = dataView.getUint8(offset + 2)\n        if (\n          (!includeTags || includeTags[tagCode]) &&\n          (!excludeTags || !excludeTags[tagCode])\n        ) {\n          tagSize = dataView.getInt16(offset + 3)\n          value = getTagValue(tagCode, data.iptc, dataView, offset + 5, tagSize)\n          data.iptc[tagCode] = combineTagValues(data.iptc[tagCode], value)\n          if (data.iptcOffsets) {\n            data.iptcOffsets[tagCode] = offset\n          }\n        }\n      }\n      offset += 1\n    }\n  }\n\n  /**\n   * Tests if field segment starts at offset.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {boolean} True if '8BIM<EOT><EOT>' exists at offset\n   */\n  function isSegmentStart(dataView, offset) {\n    return (\n      dataView.getUint32(offset) === 0x3842494d && // Photoshop segment start\n      dataView.getUint16(offset + 4) === 0x0404 // IPTC segment start\n    )\n  }\n\n  /**\n   * Returns header length.\n   *\n   * @param {DataView} dataView Data view interface\n   * @param {number} offset Segment offset\n   * @returns {number} Header length\n   */\n  function getHeaderLength(dataView, offset) {\n    var length = dataView.getUint8(offset + 7)\n    if (length % 2 !== 0) length += 1\n    // Check for pre photoshop 6 format\n    if (length === 0) {\n      // Always 4\n      length = 4\n    }\n    return length\n  }\n\n  loadImage.parseIptcData = function (dataView, offset, length, data, options) {\n    if (options.disableIptc) {\n      return\n    }\n    var markerLength = offset + length\n    while (offset + 8 < markerLength) {\n      if (isSegmentStart(dataView, offset)) {\n        var headerLength = getHeaderLength(dataView, offset)\n        var segmentOffset = offset + 8 + headerLength\n        if (segmentOffset > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment offset.')\n          break\n        }\n        var segmentLength = dataView.getUint16(offset + 6 + headerLength)\n        if (offset + segmentLength > markerLength) {\n          // eslint-disable-next-line no-console\n          console.log('Invalid IPTC data: Invalid segment size.')\n          break\n        }\n        // Create the iptc object to store the tags:\n        data.iptc = new IptcMap()\n        if (!options.disableIptcOffsets) {\n          data.iptcOffsets = new IptcMap()\n        }\n        parseIptcTags(\n          dataView,\n          segmentOffset,\n          segmentLength,\n          data,\n          options.includeIptcTags,\n          options.excludeIptcTags || { 202: true } // ObjectPreviewData\n        )\n        return\n      }\n      // eslint-disable-next-line no-param-reassign\n      offset += 1\n    }\n  }\n\n  // Registers this IPTC parser for the APP13 JPEG meta data segment:\n  loadImage.metaDataParsers.jpeg[0xffed].push(loadImage.parseIptcData)\n\n  loadImage.IptcMap = IptcMap\n\n  // Adds the following properties to the parseMetaData callback data:\n  // - iptc: The iptc tags, parsed by the parseIptcData method\n\n  // Adds the following options to the parseMetaData method:\n  // - disableIptc: Disables IPTC parsing when true.\n  // - disableIptcOffsets: Disables storing IPTC tag offsets when true.\n  // - includeIptcTags: A map of IPTC tags to include for parsing.\n  // - excludeIptcTags: A map of IPTC tags to exclude from parsing.\n})\n","/**\n *\n * Entry point for tesseract.js, should be the entry when bundling.\n *\n * @fileoverview entry point for tesseract.js\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nrequire('regenerator-runtime/runtime');\nconst createScheduler = require('./createScheduler');\nconst createWorker = require('./createWorker');\nconst Tesseract = require('./Tesseract');\nconst OEM = require('./constants/OEM');\nconst PSM = require('./constants/PSM');\nconst { setLogging } = require('./utils/log');\n\nmodule.exports = {\n  OEM,\n  PSM,\n  createScheduler,\n  createWorker,\n  setLogging,\n  ...Tesseract,\n};\n","/**\n * Copyright (c) 2014-present, Facebook, Inc.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n\nvar runtime = (function (exports) {\n  \"use strict\";\n\n  var Op = Object.prototype;\n  var hasOwn = Op.hasOwnProperty;\n  var defineProperty = Object.defineProperty || function (obj, key, desc) { obj[key] = desc.value; };\n  var undefined; // More compressible than void 0.\n  var $Symbol = typeof Symbol === \"function\" ? Symbol : {};\n  var iteratorSymbol = $Symbol.iterator || \"@@iterator\";\n  var asyncIteratorSymbol = $Symbol.asyncIterator || \"@@asyncIterator\";\n  var toStringTagSymbol = $Symbol.toStringTag || \"@@toStringTag\";\n\n  function define(obj, key, value) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n    return obj[key];\n  }\n  try {\n    // IE 8 has a broken Object.defineProperty that only works on DOM objects.\n    define({}, \"\");\n  } catch (err) {\n    define = function(obj, key, value) {\n      return obj[key] = value;\n    };\n  }\n\n  function wrap(innerFn, outerFn, self, tryLocsList) {\n    // If outerFn provided and outerFn.prototype is a Generator, then outerFn.prototype instanceof Generator.\n    var protoGenerator = outerFn && outerFn.prototype instanceof Generator ? outerFn : Generator;\n    var generator = Object.create(protoGenerator.prototype);\n    var context = new Context(tryLocsList || []);\n\n    // The ._invoke method unifies the implementations of the .next,\n    // .throw, and .return methods.\n    defineProperty(generator, \"_invoke\", { value: makeInvokeMethod(innerFn, self, context) });\n\n    return generator;\n  }\n  exports.wrap = wrap;\n\n  // Try/catch helper to minimize deoptimizations. Returns a completion\n  // record like context.tryEntries[i].completion. This interface could\n  // have been (and was previously) designed to take a closure to be\n  // invoked without arguments, but in all the cases we care about we\n  // already have an existing method we want to call, so there's no need\n  // to create a new function object. We can even get away with assuming\n  // the method takes exactly one argument, since that happens to be true\n  // in every case, so we don't have to touch the arguments object. The\n  // only additional allocation required is the completion record, which\n  // has a stable shape and so hopefully should be cheap to allocate.\n  function tryCatch(fn, obj, arg) {\n    try {\n      return { type: \"normal\", arg: fn.call(obj, arg) };\n    } catch (err) {\n      return { type: \"throw\", arg: err };\n    }\n  }\n\n  var GenStateSuspendedStart = \"suspendedStart\";\n  var GenStateSuspendedYield = \"suspendedYield\";\n  var GenStateExecuting = \"executing\";\n  var GenStateCompleted = \"completed\";\n\n  // Returning this object from the innerFn has the same effect as\n  // breaking out of the dispatch switch statement.\n  var ContinueSentinel = {};\n\n  // Dummy constructor functions that we use as the .constructor and\n  // .constructor.prototype properties for functions that return Generator\n  // objects. For full spec compliance, you may wish to configure your\n  // minifier not to mangle the names of these two functions.\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n\n  // This is a polyfill for %IteratorPrototype% for environments that\n  // don't natively support it.\n  var IteratorPrototype = {};\n  define(IteratorPrototype, iteratorSymbol, function () {\n    return this;\n  });\n\n  var getProto = Object.getPrototypeOf;\n  var NativeIteratorPrototype = getProto && getProto(getProto(values([])));\n  if (NativeIteratorPrototype &&\n      NativeIteratorPrototype !== Op &&\n      hasOwn.call(NativeIteratorPrototype, iteratorSymbol)) {\n    // This environment has a native %IteratorPrototype%; use it instead\n    // of the polyfill.\n    IteratorPrototype = NativeIteratorPrototype;\n  }\n\n  var Gp = GeneratorFunctionPrototype.prototype =\n    Generator.prototype = Object.create(IteratorPrototype);\n  GeneratorFunction.prototype = GeneratorFunctionPrototype;\n  defineProperty(Gp, \"constructor\", { value: GeneratorFunctionPrototype, configurable: true });\n  defineProperty(\n    GeneratorFunctionPrototype,\n    \"constructor\",\n    { value: GeneratorFunction, configurable: true }\n  );\n  GeneratorFunction.displayName = define(\n    GeneratorFunctionPrototype,\n    toStringTagSymbol,\n    \"GeneratorFunction\"\n  );\n\n  // Helper for defining the .next, .throw, and .return methods of the\n  // Iterator interface in terms of a single ._invoke method.\n  function defineIteratorMethods(prototype) {\n    [\"next\", \"throw\", \"return\"].forEach(function(method) {\n      define(prototype, method, function(arg) {\n        return this._invoke(method, arg);\n      });\n    });\n  }\n\n  exports.isGeneratorFunction = function(genFun) {\n    var ctor = typeof genFun === \"function\" && genFun.constructor;\n    return ctor\n      ? ctor === GeneratorFunction ||\n        // For the native GeneratorFunction constructor, the best we can\n        // do is to check its .name property.\n        (ctor.displayName || ctor.name) === \"GeneratorFunction\"\n      : false;\n  };\n\n  exports.mark = function(genFun) {\n    if (Object.setPrototypeOf) {\n      Object.setPrototypeOf(genFun, GeneratorFunctionPrototype);\n    } else {\n      genFun.__proto__ = GeneratorFunctionPrototype;\n      define(genFun, toStringTagSymbol, \"GeneratorFunction\");\n    }\n    genFun.prototype = Object.create(Gp);\n    return genFun;\n  };\n\n  // Within the body of any async function, `await x` is transformed to\n  // `yield regeneratorRuntime.awrap(x)`, so that the runtime can test\n  // `hasOwn.call(value, \"__await\")` to determine if the yielded value is\n  // meant to be awaited.\n  exports.awrap = function(arg) {\n    return { __await: arg };\n  };\n\n  function AsyncIterator(generator, PromiseImpl) {\n    function invoke(method, arg, resolve, reject) {\n      var record = tryCatch(generator[method], generator, arg);\n      if (record.type === \"throw\") {\n        reject(record.arg);\n      } else {\n        var result = record.arg;\n        var value = result.value;\n        if (value &&\n            typeof value === \"object\" &&\n            hasOwn.call(value, \"__await\")) {\n          return PromiseImpl.resolve(value.__await).then(function(value) {\n            invoke(\"next\", value, resolve, reject);\n          }, function(err) {\n            invoke(\"throw\", err, resolve, reject);\n          });\n        }\n\n        return PromiseImpl.resolve(value).then(function(unwrapped) {\n          // When a yielded Promise is resolved, its final value becomes\n          // the .value of the Promise<{value,done}> result for the\n          // current iteration.\n          result.value = unwrapped;\n          resolve(result);\n        }, function(error) {\n          // If a rejected Promise was yielded, throw the rejection back\n          // into the async generator function so it can be handled there.\n          return invoke(\"throw\", error, resolve, reject);\n        });\n      }\n    }\n\n    var previousPromise;\n\n    function enqueue(method, arg) {\n      function callInvokeWithMethodAndArg() {\n        return new PromiseImpl(function(resolve, reject) {\n          invoke(method, arg, resolve, reject);\n        });\n      }\n\n      return previousPromise =\n        // If enqueue has been called before, then we want to wait until\n        // all previous Promises have been resolved before calling invoke,\n        // so that results are always delivered in the correct order. If\n        // enqueue has not been called before, then it is important to\n        // call invoke immediately, without waiting on a callback to fire,\n        // so that the async generator function has the opportunity to do\n        // any necessary setup in a predictable way. This predictability\n        // is why the Promise constructor synchronously invokes its\n        // executor callback, and why async functions synchronously\n        // execute code before the first await. Since we implement simple\n        // async functions in terms of async generators, it is especially\n        // important to get this right, even though it requires care.\n        previousPromise ? previousPromise.then(\n          callInvokeWithMethodAndArg,\n          // Avoid propagating failures to Promises returned by later\n          // invocations of the iterator.\n          callInvokeWithMethodAndArg\n        ) : callInvokeWithMethodAndArg();\n    }\n\n    // Define the unified helper method that is used to implement .next,\n    // .throw, and .return (see defineIteratorMethods).\n    defineProperty(this, \"_invoke\", { value: enqueue });\n  }\n\n  defineIteratorMethods(AsyncIterator.prototype);\n  define(AsyncIterator.prototype, asyncIteratorSymbol, function () {\n    return this;\n  });\n  exports.AsyncIterator = AsyncIterator;\n\n  // Note that simple async functions are implemented on top of\n  // AsyncIterator objects; they just return a Promise for the value of\n  // the final result produced by the iterator.\n  exports.async = function(innerFn, outerFn, self, tryLocsList, PromiseImpl) {\n    if (PromiseImpl === void 0) PromiseImpl = Promise;\n\n    var iter = new AsyncIterator(\n      wrap(innerFn, outerFn, self, tryLocsList),\n      PromiseImpl\n    );\n\n    return exports.isGeneratorFunction(outerFn)\n      ? iter // If outerFn is a generator, return the full iterator.\n      : iter.next().then(function(result) {\n          return result.done ? result.value : iter.next();\n        });\n  };\n\n  function makeInvokeMethod(innerFn, self, context) {\n    var state = GenStateSuspendedStart;\n\n    return function invoke(method, arg) {\n      if (state === GenStateExecuting) {\n        throw new Error(\"Generator is already running\");\n      }\n\n      if (state === GenStateCompleted) {\n        if (method === \"throw\") {\n          throw arg;\n        }\n\n        // Be forgiving, per 25.3.3.3.3 of the spec:\n        // https://people.mozilla.org/~jorendorff/es6-draft.html#sec-generatorresume\n        return doneResult();\n      }\n\n      context.method = method;\n      context.arg = arg;\n\n      while (true) {\n        var delegate = context.delegate;\n        if (delegate) {\n          var delegateResult = maybeInvokeDelegate(delegate, context);\n          if (delegateResult) {\n            if (delegateResult === ContinueSentinel) continue;\n            return delegateResult;\n          }\n        }\n\n        if (context.method === \"next\") {\n          // Setting context._sent for legacy support of Babel's\n          // function.sent implementation.\n          context.sent = context._sent = context.arg;\n\n        } else if (context.method === \"throw\") {\n          if (state === GenStateSuspendedStart) {\n            state = GenStateCompleted;\n            throw context.arg;\n          }\n\n          context.dispatchException(context.arg);\n\n        } else if (context.method === \"return\") {\n          context.abrupt(\"return\", context.arg);\n        }\n\n        state = GenStateExecuting;\n\n        var record = tryCatch(innerFn, self, context);\n        if (record.type === \"normal\") {\n          // If an exception is thrown from innerFn, we leave state ===\n          // GenStateExecuting and loop back for another invocation.\n          state = context.done\n            ? GenStateCompleted\n            : GenStateSuspendedYield;\n\n          if (record.arg === ContinueSentinel) {\n            continue;\n          }\n\n          return {\n            value: record.arg,\n            done: context.done\n          };\n\n        } else if (record.type === \"throw\") {\n          state = GenStateCompleted;\n          // Dispatch the exception by looping back around to the\n          // context.dispatchException(context.arg) call above.\n          context.method = \"throw\";\n          context.arg = record.arg;\n        }\n      }\n    };\n  }\n\n  // Call delegate.iterator[context.method](context.arg) and handle the\n  // result, either by returning a { value, done } result from the\n  // delegate iterator, or by modifying context.method and context.arg,\n  // setting context.delegate to null, and returning the ContinueSentinel.\n  function maybeInvokeDelegate(delegate, context) {\n    var methodName = context.method;\n    var method = delegate.iterator[methodName];\n    if (method === undefined) {\n      // A .throw or .return when the delegate iterator has no .throw\n      // method, or a missing .next mehtod, always terminate the\n      // yield* loop.\n      context.delegate = null;\n\n      // Note: [\"return\"] must be used for ES3 parsing compatibility.\n      if (methodName === \"throw\" && delegate.iterator[\"return\"]) {\n        // If the delegate iterator has a return method, give it a\n        // chance to clean up.\n        context.method = \"return\";\n        context.arg = undefined;\n        maybeInvokeDelegate(delegate, context);\n\n        if (context.method === \"throw\") {\n          // If maybeInvokeDelegate(context) changed context.method from\n          // \"return\" to \"throw\", let that override the TypeError below.\n          return ContinueSentinel;\n        }\n      }\n      if (methodName !== \"return\") {\n        context.method = \"throw\";\n        context.arg = new TypeError(\n          \"The iterator does not provide a '\" + methodName + \"' method\");\n      }\n\n      return ContinueSentinel;\n    }\n\n    var record = tryCatch(method, delegate.iterator, context.arg);\n\n    if (record.type === \"throw\") {\n      context.method = \"throw\";\n      context.arg = record.arg;\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    var info = record.arg;\n\n    if (! info) {\n      context.method = \"throw\";\n      context.arg = new TypeError(\"iterator result is not an object\");\n      context.delegate = null;\n      return ContinueSentinel;\n    }\n\n    if (info.done) {\n      // Assign the result of the finished delegate to the temporary\n      // variable specified by delegate.resultName (see delegateYield).\n      context[delegate.resultName] = info.value;\n\n      // Resume execution at the desired location (see delegateYield).\n      context.next = delegate.nextLoc;\n\n      // If context.method was \"throw\" but the delegate handled the\n      // exception, let the outer generator proceed normally. If\n      // context.method was \"next\", forget context.arg since it has been\n      // \"consumed\" by the delegate iterator. If context.method was\n      // \"return\", allow the original .return call to continue in the\n      // outer generator.\n      if (context.method !== \"return\") {\n        context.method = \"next\";\n        context.arg = undefined;\n      }\n\n    } else {\n      // Re-yield the result returned by the delegate method.\n      return info;\n    }\n\n    // The delegate iterator is finished, so forget it and continue with\n    // the outer generator.\n    context.delegate = null;\n    return ContinueSentinel;\n  }\n\n  // Define Generator.prototype.{next,throw,return} in terms of the\n  // unified ._invoke helper method.\n  defineIteratorMethods(Gp);\n\n  define(Gp, toStringTagSymbol, \"Generator\");\n\n  // A Generator should always return itself as the iterator object when the\n  // @@iterator function is called on it. Some browsers' implementations of the\n  // iterator prototype chain incorrectly implement this, causing the Generator\n  // object to not be returned from this call. This ensures that doesn't happen.\n  // See https://github.com/facebook/regenerator/issues/274 for more details.\n  define(Gp, iteratorSymbol, function() {\n    return this;\n  });\n\n  define(Gp, \"toString\", function() {\n    return \"[object Generator]\";\n  });\n\n  function pushTryEntry(locs) {\n    var entry = { tryLoc: locs[0] };\n\n    if (1 in locs) {\n      entry.catchLoc = locs[1];\n    }\n\n    if (2 in locs) {\n      entry.finallyLoc = locs[2];\n      entry.afterLoc = locs[3];\n    }\n\n    this.tryEntries.push(entry);\n  }\n\n  function resetTryEntry(entry) {\n    var record = entry.completion || {};\n    record.type = \"normal\";\n    delete record.arg;\n    entry.completion = record;\n  }\n\n  function Context(tryLocsList) {\n    // The root entry object (effectively a try statement without a catch\n    // or a finally block) gives us a place to store values thrown from\n    // locations where there is no enclosing try statement.\n    this.tryEntries = [{ tryLoc: \"root\" }];\n    tryLocsList.forEach(pushTryEntry, this);\n    this.reset(true);\n  }\n\n  exports.keys = function(val) {\n    var object = Object(val);\n    var keys = [];\n    for (var key in object) {\n      keys.push(key);\n    }\n    keys.reverse();\n\n    // Rather than returning an object with a next method, we keep\n    // things simple and return the next function itself.\n    return function next() {\n      while (keys.length) {\n        var key = keys.pop();\n        if (key in object) {\n          next.value = key;\n          next.done = false;\n          return next;\n        }\n      }\n\n      // To avoid creating an additional object, we just hang the .value\n      // and .done properties off the next function object itself. This\n      // also ensures that the minifier will not anonymize the function.\n      next.done = true;\n      return next;\n    };\n  };\n\n  function values(iterable) {\n    if (iterable) {\n      var iteratorMethod = iterable[iteratorSymbol];\n      if (iteratorMethod) {\n        return iteratorMethod.call(iterable);\n      }\n\n      if (typeof iterable.next === \"function\") {\n        return iterable;\n      }\n\n      if (!isNaN(iterable.length)) {\n        var i = -1, next = function next() {\n          while (++i < iterable.length) {\n            if (hasOwn.call(iterable, i)) {\n              next.value = iterable[i];\n              next.done = false;\n              return next;\n            }\n          }\n\n          next.value = undefined;\n          next.done = true;\n\n          return next;\n        };\n\n        return next.next = next;\n      }\n    }\n\n    // Return an iterator with no values.\n    return { next: doneResult };\n  }\n  exports.values = values;\n\n  function doneResult() {\n    return { value: undefined, done: true };\n  }\n\n  Context.prototype = {\n    constructor: Context,\n\n    reset: function(skipTempReset) {\n      this.prev = 0;\n      this.next = 0;\n      // Resetting context._sent for legacy support of Babel's\n      // function.sent implementation.\n      this.sent = this._sent = undefined;\n      this.done = false;\n      this.delegate = null;\n\n      this.method = \"next\";\n      this.arg = undefined;\n\n      this.tryEntries.forEach(resetTryEntry);\n\n      if (!skipTempReset) {\n        for (var name in this) {\n          // Not sure about the optimal order of these conditions:\n          if (name.charAt(0) === \"t\" &&\n              hasOwn.call(this, name) &&\n              !isNaN(+name.slice(1))) {\n            this[name] = undefined;\n          }\n        }\n      }\n    },\n\n    stop: function() {\n      this.done = true;\n\n      var rootEntry = this.tryEntries[0];\n      var rootRecord = rootEntry.completion;\n      if (rootRecord.type === \"throw\") {\n        throw rootRecord.arg;\n      }\n\n      return this.rval;\n    },\n\n    dispatchException: function(exception) {\n      if (this.done) {\n        throw exception;\n      }\n\n      var context = this;\n      function handle(loc, caught) {\n        record.type = \"throw\";\n        record.arg = exception;\n        context.next = loc;\n\n        if (caught) {\n          // If the dispatched exception was caught by a catch block,\n          // then let that catch block handle the exception normally.\n          context.method = \"next\";\n          context.arg = undefined;\n        }\n\n        return !! caught;\n      }\n\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        var record = entry.completion;\n\n        if (entry.tryLoc === \"root\") {\n          // Exception thrown outside of any try block that could handle\n          // it, so set the completion value of the entire function to\n          // throw the exception.\n          return handle(\"end\");\n        }\n\n        if (entry.tryLoc <= this.prev) {\n          var hasCatch = hasOwn.call(entry, \"catchLoc\");\n          var hasFinally = hasOwn.call(entry, \"finallyLoc\");\n\n          if (hasCatch && hasFinally) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            } else if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else if (hasCatch) {\n            if (this.prev < entry.catchLoc) {\n              return handle(entry.catchLoc, true);\n            }\n\n          } else if (hasFinally) {\n            if (this.prev < entry.finallyLoc) {\n              return handle(entry.finallyLoc);\n            }\n\n          } else {\n            throw new Error(\"try statement without catch or finally\");\n          }\n        }\n      }\n    },\n\n    abrupt: function(type, arg) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc <= this.prev &&\n            hasOwn.call(entry, \"finallyLoc\") &&\n            this.prev < entry.finallyLoc) {\n          var finallyEntry = entry;\n          break;\n        }\n      }\n\n      if (finallyEntry &&\n          (type === \"break\" ||\n           type === \"continue\") &&\n          finallyEntry.tryLoc <= arg &&\n          arg <= finallyEntry.finallyLoc) {\n        // Ignore the finally entry if control is not jumping to a\n        // location outside the try/catch block.\n        finallyEntry = null;\n      }\n\n      var record = finallyEntry ? finallyEntry.completion : {};\n      record.type = type;\n      record.arg = arg;\n\n      if (finallyEntry) {\n        this.method = \"next\";\n        this.next = finallyEntry.finallyLoc;\n        return ContinueSentinel;\n      }\n\n      return this.complete(record);\n    },\n\n    complete: function(record, afterLoc) {\n      if (record.type === \"throw\") {\n        throw record.arg;\n      }\n\n      if (record.type === \"break\" ||\n          record.type === \"continue\") {\n        this.next = record.arg;\n      } else if (record.type === \"return\") {\n        this.rval = this.arg = record.arg;\n        this.method = \"return\";\n        this.next = \"end\";\n      } else if (record.type === \"normal\" && afterLoc) {\n        this.next = afterLoc;\n      }\n\n      return ContinueSentinel;\n    },\n\n    finish: function(finallyLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.finallyLoc === finallyLoc) {\n          this.complete(entry.completion, entry.afterLoc);\n          resetTryEntry(entry);\n          return ContinueSentinel;\n        }\n      }\n    },\n\n    \"catch\": function(tryLoc) {\n      for (var i = this.tryEntries.length - 1; i >= 0; --i) {\n        var entry = this.tryEntries[i];\n        if (entry.tryLoc === tryLoc) {\n          var record = entry.completion;\n          if (record.type === \"throw\") {\n            var thrown = record.arg;\n            resetTryEntry(entry);\n          }\n          return thrown;\n        }\n      }\n\n      // The context.catch method must only be called with a location\n      // argument that corresponds to a known catch block.\n      throw new Error(\"illegal catch attempt\");\n    },\n\n    delegateYield: function(iterable, resultName, nextLoc) {\n      this.delegate = {\n        iterator: values(iterable),\n        resultName: resultName,\n        nextLoc: nextLoc\n      };\n\n      if (this.method === \"next\") {\n        // Deliberately forget the last sent value so that we don't\n        // accidentally pass it on to the delegate.\n        this.arg = undefined;\n      }\n\n      return ContinueSentinel;\n    }\n  };\n\n  // Regardless of whether this script is executing as a CommonJS module\n  // or not, return the runtime object so that we can declare the variable\n  // regeneratorRuntime in the outer scope, which allows this module to be\n  // injected easily by `bin/regenerator --include-runtime script.js`.\n  return exports;\n\n}(\n  // If this script is executing as a CommonJS module, use module.exports\n  // as the regeneratorRuntime namespace. Otherwise create a new empty\n  // object. Either way, the resulting object will be used to initialize\n  // the regeneratorRuntime variable at the top of this file.\n  typeof module === \"object\" ? module.exports : {}\n));\n\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  // This module should not be running in strict mode, so the above\n  // assignment should always work unless something is misconfigured. Just\n  // in case runtime.js accidentally runs in strict mode, in modern engines\n  // we can explicitly access globalThis. In older engines we can escape\n  // strict mode using a global Function call. This could conceivably fail\n  // if a Content Security Policy forbids using Function, but in that case\n  // the proper solution is to fix the accidental strict mode problem. If\n  // you've misconfigured your bundler to force strict mode and applied a\n  // CSP to forbid Function, and you're not willing to fix either of those\n  // problems, please detail your unique predicament in a GitHub issue.\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","const createJob = require('./createJob');\nconst { log } = require('./utils/log');\nconst getId = require('./utils/getId');\n\nlet schedulerCounter = 0;\n\nmodule.exports = () => {\n  const id = getId('Scheduler', schedulerCounter);\n  const workers = {};\n  const runningWorkers = {};\n  let jobQueue = [];\n\n  schedulerCounter += 1;\n\n  const getQueueLen = () => jobQueue.length;\n  const getNumWorkers = () => Object.keys(workers).length;\n\n  const dequeue = () => {\n    if (jobQueue.length !== 0) {\n      const wIds = Object.keys(workers);\n      for (let i = 0; i < wIds.length; i += 1) {\n        if (typeof runningWorkers[wIds[i]] === 'undefined') {\n          jobQueue[0](workers[wIds[i]]);\n          break;\n        }\n      }\n    }\n  };\n\n  const queue = (action, payload) => (\n    new Promise((resolve, reject) => {\n      const job = createJob({ action, payload });\n      jobQueue.push(async (w) => {\n        jobQueue.shift();\n        runningWorkers[w.id] = job;\n        try {\n          resolve(await w[action].apply(this, [...payload, job.id]));\n        } catch (err) {\n          reject(err);\n        } finally {\n          delete runningWorkers[w.id];\n          dequeue();\n        }\n      });\n      log(`[${id}]: Add ${job.id} to JobQueue`);\n      log(`[${id}]: JobQueue length=${jobQueue.length}`);\n      dequeue();\n    })\n  );\n\n  const addWorker = (w) => {\n    workers[w.id] = w;\n    log(`[${id}]: Add ${w.id}`);\n    log(`[${id}]: Number of workers=${getNumWorkers()}`);\n    dequeue();\n    return w.id;\n  };\n\n  const addJob = async (action, ...payload) => {\n    if (getNumWorkers() === 0) {\n      throw Error(`[${id}]: You need to have at least one worker before adding jobs`);\n    }\n    return queue(action, payload);\n  };\n\n  const terminate = async () => {\n    Object.keys(workers).forEach(async (wid) => {\n      await workers[wid].terminate();\n    });\n    jobQueue = [];\n  };\n\n  return {\n    addWorker,\n    addJob,\n    terminate,\n    getQueueLen,\n    getNumWorkers,\n  };\n};\n","const isBrowser = require('./getEnvironment')('type') === 'browser';\nconst resolveURL = isBrowser ? require('resolve-url') : s => s; // eslint-disable-line\n\nmodule.exports = (options) => {\n  const opts = { ...options };\n  ['corePath', 'workerPath', 'langPath'].forEach((key) => {\n    if (typeof options[key] !== 'undefined') {\n      opts[key] = resolveURL(opts[key]);\n    }\n  });\n  return opts;\n};\n","const isElectron = require('is-electron');\n\nmodule.exports = (key) => {\n  const env = {};\n\n  if (typeof WorkerGlobalScope !== 'undefined') {\n    env.type = 'webworker';\n  } else if (typeof window === 'object') {\n    env.type = 'browser';\n  } else if (isElectron()) {\n    env.type = 'electron';\n  } else if (typeof process === 'object' && typeof require === 'function') {\n    env.type = 'node';\n  }\n\n  if (typeof key === 'undefined') {\n    return env;\n  }\n\n  return env[key];\n};\n","// https://github.com/electron/electron/issues/2288\nfunction isElectron() {\n    // Renderer process\n    if (typeof window !== 'undefined' && typeof window.process === 'object' && window.process.type === 'renderer') {\n        return true;\n    }\n\n    // Main process\n    if (typeof process !== 'undefined' && typeof process.versions === 'object' && !!process.versions.electron) {\n        return true;\n    }\n\n    // Detect the user agent when the `nodeIntegration` option is set to false\n    if (typeof navigator === 'object' && typeof navigator.userAgent === 'string' && navigator.userAgent.indexOf('Electron') >= 0) {\n        return true;\n    }\n\n    return false;\n}\n\nmodule.exports = isElectron;\n","/**\n * In the recognition result of tesseract, there\n * is a deep JSON object for details, it has around\n *\n * The result of dump.js is a big JSON tree\n * which can be easily serialized (for instance\n * to be sent from a webworker to the main app\n * or through Node's IPC), but we want\n * a (circular) DOM-like interface for walking\n * through the data.\n *\n * @fileoverview DOM-like interface for walking through data\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\n\nmodule.exports = (page) => {\n  const blocks = [];\n  const paragraphs = [];\n  const lines = [];\n  const words = [];\n  const symbols = [];\n\n  page.blocks.forEach((block) => {\n    block.paragraphs.forEach((paragraph) => {\n      paragraph.lines.forEach((line) => {\n        line.words.forEach((word) => {\n          word.symbols.forEach((sym) => {\n            symbols.push({\n              ...sym, page, block, paragraph, line, word,\n            });\n          });\n          words.push({\n            ...word, page, block, paragraph, line,\n          });\n        });\n        lines.push({\n          ...line, page, block, paragraph,\n        });\n      });\n      paragraphs.push({\n        ...paragraph, page, block,\n      });\n    });\n    blocks.push({\n      ...block, page,\n    });\n  });\n\n  return {\n    ...page, blocks, paragraphs, lines, words, symbols,\n  };\n};\n","const OEM = require('./OEM');\n\nmodule.exports = {\n  defaultOEM: OEM.DEFAULT,\n};\n","/**\n *\n * Tesseract Worker adapter for browser\n *\n * @fileoverview Tesseract Worker adapter for browser\n * @author Kevin Kwok <antimatter15@gmail.com>\n * @author Guillermo Webster <gui@mit.edu>\n * @author Jerome Wu <jeromewus@gmail.com>\n */\nconst defaultOptions = require('./defaultOptions');\nconst spawnWorker = require('./spawnWorker');\nconst terminateWorker = require('./terminateWorker');\nconst onMessage = require('./onMessage');\nconst send = require('./send');\nconst loadImage = require('./loadImage');\n\nmodule.exports = {\n  defaultOptions,\n  spawnWorker,\n  terminateWorker,\n  onMessage,\n  send,\n  loadImage,\n};\n","const resolveURL = require('resolve-url');\nconst { version, dependencies } = require('../../../package.json');\nconst defaultOptions = require('../../constants/defaultOptions');\n\n/*\n * Default options for browser worker\n */\nmodule.exports = {\n  ...defaultOptions,\n  workerPath: (typeof process !== 'undefined' && process.env.TESS_ENV === 'development')\n    ? resolveURL(`/dist/worker.dev.js?nocache=${Math.random().toString(36).slice(3)}`)\n    : `https://unpkg.com/tesseract.js@v${version}/dist/worker.min.js`,\n  /*\n   * If browser doesn't support WebAssembly,\n   * load ASM version instead\n   */\n  corePath: `https://unpkg.com/tesseract.js-core@v${dependencies['tesseract.js-core'].substring(1)}/tesseract-core.${typeof WebAssembly === 'object' ? 'wasm' : 'asm'}.js`,\n};\n","module.exports = {\n  /*\n   * default path for downloading *.traineddata\n   */\n  langPath: 'https://tessdata.projectnaptha.com/4.0.0',\n  /*\n   * Use BlobURL for worker script by default\n   * TODO: remove this option\n   *\n   */\n  workerBlobURL: true,\n  logger: () => {},\n};\n","/**\n * spawnWorker\n *\n * @name spawnWorker\n * @function create a new Worker in browser\n * @access public\n */\nmodule.exports = ({ workerPath, workerBlobURL }) => {\n  let worker;\n  if (Blob && URL && workerBlobURL) {\n    const blob = new Blob([`importScripts(\"${workerPath}\");`], {\n      type: 'application/javascript',\n    });\n    worker = new Worker(URL.createObjectURL(blob));\n  } else {\n    worker = new Worker(workerPath);\n  }\n\n  return worker;\n};\n","/**\n * terminateWorker\n *\n * @name terminateWorker\n * @function terminate worker\n * @access public\n */\nmodule.exports = (worker) => {\n  worker.terminate();\n};\n","module.exports = (worker, handler) => {\n  worker.onmessage = ({ data }) => { // eslint-disable-line\n    handler(data);\n  };\n};\n","/**\n * send\n *\n * @name send\n * @function send packet to worker and create a job\n * @access public\n */\nmodule.exports = async (worker, packet) => {\n  worker.postMessage(packet);\n};\n","const resolveURL = require('resolve-url');\nconst blueimpLoadImage = require('blueimp-load-image');\n\n/**\n * readFromBlobOrFile\n *\n * @name readFromBlobOrFile\n * @function\n * @access private\n */\nconst readFromBlobOrFile = (blob) => (\n  new Promise((resolve, reject) => {\n    const fileReader = new FileReader();\n    fileReader.onload = () => {\n      resolve(fileReader.result);\n    };\n    fileReader.onerror = ({ target: { error: { code } } }) => {\n      reject(Error(`File could not be read! Code=${code}`));\n    };\n    fileReader.readAsArrayBuffer(blob);\n  })\n);\n\nconst fixOrientationFromUrlOrBlobOrFile = (blob) => (\n  new Promise((resolve) => {\n    blueimpLoadImage(\n      blob,\n      (img) => img.toBlob(resolve),\n      {\n        orientation: true,\n        canvas: true,\n      },\n    );\n  })\n);\n\n/**\n * loadImage\n *\n * @name loadImage\n * @function load image from different source\n * @access private\n */\nconst loadImage = async (image) => {\n  let data = image;\n  if (typeof image === 'undefined') {\n    return 'undefined';\n  }\n\n  if (typeof image === 'string') {\n    if (image.endsWith('.pbm')) {\n      const resp = await fetch(resolveURL(image));\n      data = await resp.arrayBuffer();\n    } else {\n      let img = image;\n      // If not Base64 Image\n      if (!/data:image\\/([a-zA-Z]*);base64,([^\"]*)/.test(image)) {\n        img = resolveURL(image);\n      }\n      data = await readFromBlobOrFile(\n        await fixOrientationFromUrlOrBlobOrFile(img),\n      );\n    }\n  } else if (image instanceof HTMLElement) {\n    if (image.tagName === 'IMG') {\n      data = await loadImage(image.src);\n    }\n    if (image.tagName === 'VIDEO') {\n      data = await loadImage(image.poster);\n    }\n    if (image.tagName === 'CANVAS') {\n      await new Promise((resolve) => {\n        image.toBlob(async (blob) => {\n          data = await readFromBlobOrFile(blob);\n          resolve();\n        });\n      });\n    }\n  } else if (image instanceof File || image instanceof Blob) {\n    let img = image;\n    if (!image.name.endsWith('.pbm')) {\n      img = await fixOrientationFromUrlOrBlobOrFile(img);\n    }\n    data = await readFromBlobOrFile(img);\n  }\n\n  return new Uint8Array(data);\n};\n\nmodule.exports = loadImage;\n","/* global module, require */\n\nmodule.exports = require('./load-image')\n\nrequire('./load-image-scale')\nrequire('./load-image-meta')\nrequire('./load-image-fetch')\nrequire('./load-image-exif')\nrequire('./load-image-exif-map')\nrequire('./load-image-iptc')\nrequire('./load-image-iptc-map')\nrequire('./load-image-orientation')\n","/*\n * JavaScript Load Image Fetch\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2017, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  if (typeof fetch !== 'undefined' && typeof Request !== 'undefined') {\n    loadImage.fetchBlob = function (url, callback, options) {\n      fetch(new Request(url, options))\n        .then(function (response) {\n          return response.blob()\n        })\n        .then(callback)\n        .catch(function (err) {\n          callback(null, err)\n        })\n    }\n  } else if (\n    // Check for XHR2 support:\n    typeof XMLHttpRequest !== 'undefined' &&\n    typeof ProgressEvent !== 'undefined'\n  ) {\n    loadImage.fetchBlob = function (url, callback, options) {\n      // eslint-disable-next-line no-param-reassign\n      options = options || {}\n      var req = new XMLHttpRequest()\n      req.open(options.method || 'GET', url)\n      if (options.headers) {\n        Object.keys(options.headers).forEach(function (key) {\n          req.setRequestHeader(key, options.headers[key])\n        })\n      }\n      req.withCredentials = options.credentials === 'include'\n      req.responseType = 'blob'\n      req.onload = function () {\n        callback(req.response)\n      }\n      req.onerror = req.onabort = req.ontimeout = function (err) {\n        callback(null, err)\n      }\n      req.send(options.body)\n    }\n  }\n})\n","/*\n * JavaScript Load Image Exif Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Exif tags mapping based on\n * https://github.com/jseidelin/exif-js\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-exif'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-exif'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var ExifMapProto = loadImage.ExifMap.prototype\n\n  ExifMapProto.tags = {\n    // =================\n    // TIFF tags (IFD0):\n    // =================\n    0x0100: 'ImageWidth',\n    0x0101: 'ImageHeight',\n    0x0102: 'BitsPerSample',\n    0x0103: 'Compression',\n    0x0106: 'PhotometricInterpretation',\n    0x0112: 'Orientation',\n    0x0115: 'SamplesPerPixel',\n    0x011c: 'PlanarConfiguration',\n    0x0212: 'YCbCrSubSampling',\n    0x0213: 'YCbCrPositioning',\n    0x011a: 'XResolution',\n    0x011b: 'YResolution',\n    0x0128: 'ResolutionUnit',\n    0x0111: 'StripOffsets',\n    0x0116: 'RowsPerStrip',\n    0x0117: 'StripByteCounts',\n    0x0201: 'JPEGInterchangeFormat',\n    0x0202: 'JPEGInterchangeFormatLength',\n    0x012d: 'TransferFunction',\n    0x013e: 'WhitePoint',\n    0x013f: 'PrimaryChromaticities',\n    0x0211: 'YCbCrCoefficients',\n    0x0214: 'ReferenceBlackWhite',\n    0x0132: 'DateTime',\n    0x010e: 'ImageDescription',\n    0x010f: 'Make',\n    0x0110: 'Model',\n    0x0131: 'Software',\n    0x013b: 'Artist',\n    0x8298: 'Copyright',\n    0x8769: {\n      // ExifIFDPointer\n      0x9000: 'ExifVersion', // EXIF version\n      0xa000: 'FlashpixVersion', // Flashpix format version\n      0xa001: 'ColorSpace', // Color space information tag\n      0xa002: 'PixelXDimension', // Valid width of meaningful image\n      0xa003: 'PixelYDimension', // Valid height of meaningful image\n      0xa500: 'Gamma',\n      0x9101: 'ComponentsConfiguration', // Information about channels\n      0x9102: 'CompressedBitsPerPixel', // Compressed bits per pixel\n      0x927c: 'MakerNote', // Any desired information written by the manufacturer\n      0x9286: 'UserComment', // Comments by user\n      0xa004: 'RelatedSoundFile', // Name of related sound file\n      0x9003: 'DateTimeOriginal', // Date and time when the original image was generated\n      0x9004: 'DateTimeDigitized', // Date and time when the image was stored digitally\n      0x9290: 'SubSecTime', // Fractions of seconds for DateTime\n      0x9291: 'SubSecTimeOriginal', // Fractions of seconds for DateTimeOriginal\n      0x9292: 'SubSecTimeDigitized', // Fractions of seconds for DateTimeDigitized\n      0x829a: 'ExposureTime', // Exposure time (in seconds)\n      0x829d: 'FNumber',\n      0x8822: 'ExposureProgram', // Exposure program\n      0x8824: 'SpectralSensitivity', // Spectral sensitivity\n      0x8827: 'PhotographicSensitivity', // EXIF 2.3, ISOSpeedRatings in EXIF 2.2\n      0x8828: 'OECF', // Optoelectric conversion factor\n      0x8830: 'SensitivityType',\n      0x8831: 'StandardOutputSensitivity',\n      0x8832: 'RecommendedExposureIndex',\n      0x8833: 'ISOSpeed',\n      0x8834: 'ISOSpeedLatitudeyyy',\n      0x8835: 'ISOSpeedLatitudezzz',\n      0x9201: 'ShutterSpeedValue', // Shutter speed\n      0x9202: 'ApertureValue', // Lens aperture\n      0x9203: 'BrightnessValue', // Value of brightness\n      0x9204: 'ExposureBias', // Exposure bias\n      0x9205: 'MaxApertureValue', // Smallest F number of lens\n      0x9206: 'SubjectDistance', // Distance to subject in meters\n      0x9207: 'MeteringMode', // Metering mode\n      0x9208: 'LightSource', // Kind of light source\n      0x9209: 'Flash', // Flash status\n      0x9214: 'SubjectArea', // Location and area of main subject\n      0x920a: 'FocalLength', // Focal length of the lens in mm\n      0xa20b: 'FlashEnergy', // Strobe energy in BCPS\n      0xa20c: 'SpatialFrequencyResponse',\n      0xa20e: 'FocalPlaneXResolution', // Number of pixels in width direction per FPRUnit\n      0xa20f: 'FocalPlaneYResolution', // Number of pixels in height direction per FPRUnit\n      0xa210: 'FocalPlaneResolutionUnit', // Unit for measuring the focal plane resolution\n      0xa214: 'SubjectLocation', // Location of subject in image\n      0xa215: 'ExposureIndex', // Exposure index selected on camera\n      0xa217: 'SensingMethod', // Image sensor type\n      0xa300: 'FileSource', // Image source (3 == DSC)\n      0xa301: 'SceneType', // Scene type (1 == directly photographed)\n      0xa302: 'CFAPattern', // Color filter array geometric pattern\n      0xa401: 'CustomRendered', // Special processing\n      0xa402: 'ExposureMode', // Exposure mode\n      0xa403: 'WhiteBalance', // 1 = auto white balance, 2 = manual\n      0xa404: 'DigitalZoomRatio', // Digital zoom ratio\n      0xa405: 'FocalLengthIn35mmFilm',\n      0xa406: 'SceneCaptureType', // Type of scene\n      0xa407: 'GainControl', // Degree of overall image gain adjustment\n      0xa408: 'Contrast', // Direction of contrast processing applied by camera\n      0xa409: 'Saturation', // Direction of saturation processing applied by camera\n      0xa40a: 'Sharpness', // Direction of sharpness processing applied by camera\n      0xa40b: 'DeviceSettingDescription',\n      0xa40c: 'SubjectDistanceRange', // Distance to subject\n      0xa420: 'ImageUniqueID', // Identifier assigned uniquely to each image\n      0xa430: 'CameraOwnerName',\n      0xa431: 'BodySerialNumber',\n      0xa432: 'LensSpecification',\n      0xa433: 'LensMake',\n      0xa434: 'LensModel',\n      0xa435: 'LensSerialNumber'\n    },\n    0x8825: {\n      // GPSInfoIFDPointer\n      0x0000: 'GPSVersionID',\n      0x0001: 'GPSLatitudeRef',\n      0x0002: 'GPSLatitude',\n      0x0003: 'GPSLongitudeRef',\n      0x0004: 'GPSLongitude',\n      0x0005: 'GPSAltitudeRef',\n      0x0006: 'GPSAltitude',\n      0x0007: 'GPSTimeStamp',\n      0x0008: 'GPSSatellites',\n      0x0009: 'GPSStatus',\n      0x000a: 'GPSMeasureMode',\n      0x000b: 'GPSDOP',\n      0x000c: 'GPSSpeedRef',\n      0x000d: 'GPSSpeed',\n      0x000e: 'GPSTrackRef',\n      0x000f: 'GPSTrack',\n      0x0010: 'GPSImgDirectionRef',\n      0x0011: 'GPSImgDirection',\n      0x0012: 'GPSMapDatum',\n      0x0013: 'GPSDestLatitudeRef',\n      0x0014: 'GPSDestLatitude',\n      0x0015: 'GPSDestLongitudeRef',\n      0x0016: 'GPSDestLongitude',\n      0x0017: 'GPSDestBearingRef',\n      0x0018: 'GPSDestBearing',\n      0x0019: 'GPSDestDistanceRef',\n      0x001a: 'GPSDestDistance',\n      0x001b: 'GPSProcessingMethod',\n      0x001c: 'GPSAreaInformation',\n      0x001d: 'GPSDateStamp',\n      0x001e: 'GPSDifferential',\n      0x001f: 'GPSHPositioningError'\n    },\n    0xa005: {\n      // InteroperabilityIFDPointer\n      0x0001: 'InteroperabilityIndex'\n    }\n  }\n\n  ExifMapProto.stringValues = {\n    ExposureProgram: {\n      0: 'Undefined',\n      1: 'Manual',\n      2: 'Normal program',\n      3: 'Aperture priority',\n      4: 'Shutter priority',\n      5: 'Creative program',\n      6: 'Action program',\n      7: 'Portrait mode',\n      8: 'Landscape mode'\n    },\n    MeteringMode: {\n      0: 'Unknown',\n      1: 'Average',\n      2: 'CenterWeightedAverage',\n      3: 'Spot',\n      4: 'MultiSpot',\n      5: 'Pattern',\n      6: 'Partial',\n      255: 'Other'\n    },\n    LightSource: {\n      0: 'Unknown',\n      1: 'Daylight',\n      2: 'Fluorescent',\n      3: 'Tungsten (incandescent light)',\n      4: 'Flash',\n      9: 'Fine weather',\n      10: 'Cloudy weather',\n      11: 'Shade',\n      12: 'Daylight fluorescent (D 5700 - 7100K)',\n      13: 'Day white fluorescent (N 4600 - 5400K)',\n      14: 'Cool white fluorescent (W 3900 - 4500K)',\n      15: 'White fluorescent (WW 3200 - 3700K)',\n      17: 'Standard light A',\n      18: 'Standard light B',\n      19: 'Standard light C',\n      20: 'D55',\n      21: 'D65',\n      22: 'D75',\n      23: 'D50',\n      24: 'ISO studio tungsten',\n      255: 'Other'\n    },\n    Flash: {\n      0x0000: 'Flash did not fire',\n      0x0001: 'Flash fired',\n      0x0005: 'Strobe return light not detected',\n      0x0007: 'Strobe return light detected',\n      0x0009: 'Flash fired, compulsory flash mode',\n      0x000d: 'Flash fired, compulsory flash mode, return light not detected',\n      0x000f: 'Flash fired, compulsory flash mode, return light detected',\n      0x0010: 'Flash did not fire, compulsory flash mode',\n      0x0018: 'Flash did not fire, auto mode',\n      0x0019: 'Flash fired, auto mode',\n      0x001d: 'Flash fired, auto mode, return light not detected',\n      0x001f: 'Flash fired, auto mode, return light detected',\n      0x0020: 'No flash function',\n      0x0041: 'Flash fired, red-eye reduction mode',\n      0x0045: 'Flash fired, red-eye reduction mode, return light not detected',\n      0x0047: 'Flash fired, red-eye reduction mode, return light detected',\n      0x0049: 'Flash fired, compulsory flash mode, red-eye reduction mode',\n      0x004d: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected',\n      0x004f: 'Flash fired, compulsory flash mode, red-eye reduction mode, return light detected',\n      0x0059: 'Flash fired, auto mode, red-eye reduction mode',\n      0x005d: 'Flash fired, auto mode, return light not detected, red-eye reduction mode',\n      0x005f: 'Flash fired, auto mode, return light detected, red-eye reduction mode'\n    },\n    SensingMethod: {\n      1: 'Undefined',\n      2: 'One-chip color area sensor',\n      3: 'Two-chip color area sensor',\n      4: 'Three-chip color area sensor',\n      5: 'Color sequential area sensor',\n      7: 'Trilinear sensor',\n      8: 'Color sequential linear sensor'\n    },\n    SceneCaptureType: {\n      0: 'Standard',\n      1: 'Landscape',\n      2: 'Portrait',\n      3: 'Night scene'\n    },\n    SceneType: {\n      1: 'Directly photographed'\n    },\n    CustomRendered: {\n      0: 'Normal process',\n      1: 'Custom process'\n    },\n    WhiteBalance: {\n      0: 'Auto white balance',\n      1: 'Manual white balance'\n    },\n    GainControl: {\n      0: 'None',\n      1: 'Low gain up',\n      2: 'High gain up',\n      3: 'Low gain down',\n      4: 'High gain down'\n    },\n    Contrast: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    Saturation: {\n      0: 'Normal',\n      1: 'Low saturation',\n      2: 'High saturation'\n    },\n    Sharpness: {\n      0: 'Normal',\n      1: 'Soft',\n      2: 'Hard'\n    },\n    SubjectDistanceRange: {\n      0: 'Unknown',\n      1: 'Macro',\n      2: 'Close view',\n      3: 'Distant view'\n    },\n    FileSource: {\n      3: 'DSC'\n    },\n    ComponentsConfiguration: {\n      0: '',\n      1: 'Y',\n      2: 'Cb',\n      3: 'Cr',\n      4: 'R',\n      5: 'G',\n      6: 'B'\n    },\n    Orientation: {\n      1: 'top-left',\n      2: 'top-right',\n      3: 'bottom-right',\n      4: 'bottom-left',\n      5: 'left-top',\n      6: 'right-top',\n      7: 'right-bottom',\n      8: 'left-bottom'\n    }\n  }\n\n  ExifMapProto.getText = function (name) {\n    var value = this.get(name)\n    switch (name) {\n      case 'LightSource':\n      case 'Flash':\n      case 'MeteringMode':\n      case 'ExposureProgram':\n      case 'SensingMethod':\n      case 'SceneCaptureType':\n      case 'SceneType':\n      case 'CustomRendered':\n      case 'WhiteBalance':\n      case 'GainControl':\n      case 'Contrast':\n      case 'Saturation':\n      case 'Sharpness':\n      case 'SubjectDistanceRange':\n      case 'FileSource':\n      case 'Orientation':\n        return this.stringValues[name][value]\n      case 'ExifVersion':\n      case 'FlashpixVersion':\n        if (!value) return\n        return String.fromCharCode(value[0], value[1], value[2], value[3])\n      case 'ComponentsConfiguration':\n        if (!value) return\n        return (\n          this.stringValues[name][value[0]] +\n          this.stringValues[name][value[1]] +\n          this.stringValues[name][value[2]] +\n          this.stringValues[name][value[3]]\n        )\n      case 'GPSVersionID':\n        if (!value) return\n        return value[0] + '.' + value[1] + '.' + value[2] + '.' + value[3]\n    }\n    return String(value)\n  }\n\n  ExifMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var obj\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        obj = this[prop]\n        if (obj && obj.getAll) {\n          map[this.privateIFDs[prop].name] = obj.getAll()\n        } else {\n          name = this.tags[prop]\n          if (name) map[name] = this.getText(name)\n        }\n      }\n    }\n    return map\n  }\n\n  ExifMapProto.getName = function (tagCode) {\n    var name = this.tags[tagCode]\n    if (typeof name === 'object') return this.privateIFDs[tagCode].name\n    return name\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = ExifMapProto.tags\n    var prop\n    var privateIFD\n    var subTags\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        privateIFD = ExifMapProto.privateIFDs[prop]\n        if (privateIFD) {\n          subTags = tags[prop]\n          for (prop in subTags) {\n            if (Object.prototype.hasOwnProperty.call(subTags, prop)) {\n              privateIFD.map[subTags[prop]] = Number(prop)\n            }\n          }\n        } else {\n          ExifMapProto.map[tags[prop]] = Number(prop)\n        }\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image IPTC Map\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * Copyright 2018, Dave Bevan\n *\n * IPTC tags mapping based on\n * https://iptc.org/standards/photo-metadata\n * https://exiftool.org/TagNames/IPTC.html\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-iptc'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'), require('./load-image-iptc'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var IptcMapProto = loadImage.IptcMap.prototype\n\n  IptcMapProto.tags = {\n    0: 'ApplicationRecordVersion',\n    3: 'ObjectTypeReference',\n    4: 'ObjectAttributeReference',\n    5: 'ObjectName',\n    7: 'EditStatus',\n    8: 'EditorialUpdate',\n    10: 'Urgency',\n    12: 'SubjectReference',\n    15: 'Category',\n    20: 'SupplementalCategories',\n    22: 'FixtureIdentifier',\n    25: 'Keywords',\n    26: 'ContentLocationCode',\n    27: 'ContentLocationName',\n    30: 'ReleaseDate',\n    35: 'ReleaseTime',\n    37: 'ExpirationDate',\n    38: 'ExpirationTime',\n    40: 'SpecialInstructions',\n    42: 'ActionAdvised',\n    45: 'ReferenceService',\n    47: 'ReferenceDate',\n    50: 'ReferenceNumber',\n    55: 'DateCreated',\n    60: 'TimeCreated',\n    62: 'DigitalCreationDate',\n    63: 'DigitalCreationTime',\n    65: 'OriginatingProgram',\n    70: 'ProgramVersion',\n    75: 'ObjectCycle',\n    80: 'Byline',\n    85: 'BylineTitle',\n    90: 'City',\n    92: 'Sublocation',\n    95: 'State',\n    100: 'CountryCode',\n    101: 'Country',\n    103: 'OriginalTransmissionReference',\n    105: 'Headline',\n    110: 'Credit',\n    115: 'Source',\n    116: 'CopyrightNotice',\n    118: 'Contact',\n    120: 'Caption',\n    121: 'LocalCaption',\n    122: 'Writer',\n    125: 'RasterizedCaption',\n    130: 'ImageType',\n    131: 'ImageOrientation',\n    135: 'LanguageIdentifier',\n    150: 'AudioType',\n    151: 'AudioSamplingRate',\n    152: 'AudioSamplingResolution',\n    153: 'AudioDuration',\n    154: 'AudioOutcue',\n    184: 'JobID',\n    185: 'MasterDocumentID',\n    186: 'ShortDocumentID',\n    187: 'UniqueDocumentID',\n    188: 'OwnerID',\n    200: 'ObjectPreviewFileFormat',\n    201: 'ObjectPreviewFileVersion',\n    202: 'ObjectPreviewData',\n    221: 'Prefs',\n    225: 'ClassifyState',\n    228: 'SimilarityIndex',\n    230: 'DocumentNotes',\n    231: 'DocumentHistory',\n    232: 'ExifCameraInfo',\n    255: 'CatalogSets'\n  }\n\n  IptcMapProto.stringValues = {\n    10: {\n      0: '0 (reserved)',\n      1: '1 (most urgent)',\n      2: '2',\n      3: '3',\n      4: '4',\n      5: '5 (normal urgency)',\n      6: '6',\n      7: '7',\n      8: '8 (least urgent)',\n      9: '9 (user-defined priority)'\n    },\n    75: {\n      a: 'Morning',\n      b: 'Both Morning and Evening',\n      p: 'Evening'\n    },\n    131: {\n      L: 'Landscape',\n      P: 'Portrait',\n      S: 'Square'\n    }\n  }\n\n  IptcMapProto.getText = function (id) {\n    var value = this.get(id)\n    var tagCode = this.map[id]\n    var stringValue = this.stringValues[tagCode]\n    if (stringValue) return stringValue[value]\n    return String(value)\n  }\n\n  IptcMapProto.getAll = function () {\n    var map = {}\n    var prop\n    var name\n    for (prop in this) {\n      if (Object.prototype.hasOwnProperty.call(this, prop)) {\n        name = this.tags[prop]\n        if (name) map[name] = this.getText(name)\n      }\n    }\n    return map\n  }\n\n  IptcMapProto.getName = function (tagCode) {\n    return this.tags[tagCode]\n  }\n\n  // Extend the map of tag names to tag codes:\n  ;(function () {\n    var tags = IptcMapProto.tags\n    var map = IptcMapProto.map || {}\n    var prop\n    // Map the tag names to tags:\n    for (prop in tags) {\n      if (Object.prototype.hasOwnProperty.call(tags, prop)) {\n        map[tags[prop]] = Number(prop)\n      }\n    }\n  })()\n})\n","/*\n * JavaScript Load Image Orientation\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image', './load-image-scale', './load-image-meta'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(\n      require('./load-image'),\n      require('./load-image-scale'),\n      require('./load-image-meta')\n    )\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var originalHasCanvasOption = loadImage.hasCanvasOption\n  var originalHasMetaOption = loadImage.hasMetaOption\n  var originalTransformCoordinates = loadImage.transformCoordinates\n  var originalGetTransformedOptions = loadImage.getTransformedOptions\n\n  ;(function () {\n    // black 2x1 JPEG, with the following meta information set:\n    // - EXIF Orientation: 6 (Rotated 90° CCW)\n    var testImageURL =\n      'data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAA' +\n      'AAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBA' +\n      'QEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQE' +\n      'BAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/x' +\n      'ABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAA' +\n      'AAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q=='\n    var img = document.createElement('img')\n    img.onload = function () {\n      // Check if browser supports automatic image orientation:\n      loadImage.orientation = img.width === 1 && img.height === 2\n    }\n    img.src = testImageURL\n  })()\n\n  // Determines if the target image should be a canvas element:\n  loadImage.hasCanvasOption = function (options) {\n    return (\n      (!!options.orientation === true && !loadImage.orientation) ||\n      (options.orientation > 1 && options.orientation < 9) ||\n      originalHasCanvasOption.call(loadImage, options)\n    )\n  }\n\n  // Determines if meta data should be loaded automatically:\n  loadImage.hasMetaOption = function (options) {\n    return (\n      (options && options.orientation === true && !loadImage.orientation) ||\n      originalHasMetaOption.call(loadImage, options)\n    )\n  }\n\n  // Transform image orientation based on\n  // the given EXIF orientation option:\n  loadImage.transformCoordinates = function (canvas, options) {\n    originalTransformCoordinates.call(loadImage, canvas, options)\n    var ctx = canvas.getContext('2d')\n    var width = canvas.width\n    var height = canvas.height\n    var styleWidth = canvas.style.width\n    var styleHeight = canvas.style.height\n    var orientation = options.orientation\n    if (!(orientation > 1 && orientation < 9)) {\n      return\n    }\n    if (orientation > 4) {\n      canvas.width = height\n      canvas.height = width\n      canvas.style.width = styleHeight\n      canvas.style.height = styleWidth\n    }\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        ctx.translate(width, 0)\n        ctx.scale(-1, 1)\n        break\n      case 3:\n        // 180° rotate left\n        ctx.translate(width, height)\n        ctx.rotate(Math.PI)\n        break\n      case 4:\n        // vertical flip\n        ctx.translate(0, height)\n        ctx.scale(1, -1)\n        break\n      case 5:\n        // vertical flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.scale(1, -1)\n        break\n      case 6:\n        // 90° rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(0, -height)\n        break\n      case 7:\n        // horizontal flip + 90 rotate right\n        ctx.rotate(0.5 * Math.PI)\n        ctx.translate(width, -height)\n        ctx.scale(-1, 1)\n        break\n      case 8:\n        // 90° rotate left\n        ctx.rotate(-0.5 * Math.PI)\n        ctx.translate(-width, 0)\n        break\n    }\n  }\n\n  // Transforms coordinate and dimension options\n  // based on the given orientation option:\n  loadImage.getTransformedOptions = function (img, opts, data) {\n    var options = originalGetTransformedOptions.call(loadImage, img, opts)\n    var orientation = options.orientation\n    var newOptions\n    var i\n    if (orientation === true) {\n      if (loadImage.orientation) {\n        // Browser supports automatic image orientation\n        return options\n      }\n      orientation = data && data.exif && data.exif.get('Orientation')\n    }\n    if (!(orientation > 1 && orientation < 9)) {\n      return options\n    }\n    newOptions = {}\n    for (i in options) {\n      if (Object.prototype.hasOwnProperty.call(options, i)) {\n        newOptions[i] = options[i]\n      }\n    }\n    newOptions.orientation = orientation\n    switch (orientation) {\n      case 2:\n        // horizontal flip\n        newOptions.left = options.right\n        newOptions.right = options.left\n        break\n      case 3:\n        // 180° rotate left\n        newOptions.left = options.right\n        newOptions.top = options.bottom\n        newOptions.right = options.left\n        newOptions.bottom = options.top\n        break\n      case 4:\n        // vertical flip\n        newOptions.top = options.bottom\n        newOptions.bottom = options.top\n        break\n      case 5:\n        // vertical flip + 90 rotate right\n        newOptions.left = options.top\n        newOptions.top = options.left\n        newOptions.right = options.bottom\n        newOptions.bottom = options.right\n        break\n      case 6:\n        // 90° rotate right\n        newOptions.left = options.top\n        newOptions.top = options.right\n        newOptions.right = options.bottom\n        newOptions.bottom = options.left\n        break\n      case 7:\n        // horizontal flip + 90 rotate right\n        newOptions.left = options.bottom\n        newOptions.top = options.right\n        newOptions.right = options.top\n        newOptions.bottom = options.left\n        break\n      case 8:\n        // 90° rotate left\n        newOptions.left = options.bottom\n        newOptions.top = options.left\n        newOptions.right = options.top\n        newOptions.bottom = options.right\n        break\n    }\n    if (newOptions.orientation > 4) {\n      newOptions.maxWidth = options.maxHeight\n      newOptions.maxHeight = options.maxWidth\n      newOptions.minWidth = options.minHeight\n      newOptions.minHeight = options.minWidth\n      newOptions.sourceWidth = options.sourceHeight\n      newOptions.sourceHeight = options.sourceWidth\n    }\n    return newOptions\n  }\n})\n","const createWorker = require('./createWorker');\n\nconst recognize = async (image, langs, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage(langs);\n  await worker.initialize(langs);\n  return worker.recognize(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nconst detect = async (image, options) => {\n  const worker = createWorker(options);\n  await worker.load();\n  await worker.loadLanguage('osd');\n  await worker.initialize('osd');\n  return worker.detect(image)\n    .finally(async () => {\n      await worker.terminate();\n    });\n};\n\nmodule.exports = {\n  recognize,\n  detect,\n};\n","/*\n * PSM = Page Segmentation Mode\n */\nmodule.exports = {\n  OSD_ONLY: '0',\n  AUTO_OSD: '1',\n  AUTO_ONLY: '2',\n  AUTO: '3',\n  SINGLE_COLUMN: '4',\n  SINGLE_BLOCK_VERT_TEXT: '5',\n  SINGLE_BLOCK: '6',\n  SINGLE_LINE: '7',\n  SINGLE_WORD: '8',\n  CIRCLE_WORD: '9',\n  SINGLE_CHAR: '10',\n  SPARSE_TEXT: '11',\n  SPARSE_TEXT_OSD: '12',\n};\n","/*\n * JavaScript Load Image\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2011, Sebastian Tschan\n * https://blueimp.net\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, webkitURL, module */\n\n;(function ($) {\n  'use strict'\n\n  /**\n   * Loads an image for a given File object.\n   * Invokes the callback with an img or optional canvas element\n   * (if supported by the browser) as parameter:.\n   *\n   * @param {File|Blob|string} file File or Blob object or image URL\n   * @param {Function} [callback] Image load event callback\n   * @param {object} [options] Options object\n   * @returns {HTMLImageElement|HTMLCanvasElement|FileReader} image object\n   */\n  function loadImage(file, callback, options) {\n    var img = document.createElement('img')\n    var url\n    /**\n     * Callback for the fetchBlob call.\n     *\n     * @param {Blob} blob Blob object\n     * @param {Error} err Error object\n     */\n    function fetchBlobCallback(blob, err) {\n      if (err) console.log(err) // eslint-disable-line no-console\n      if (blob && loadImage.isInstanceOf('Blob', blob)) {\n        // eslint-disable-next-line no-param-reassign\n        file = blob\n        url = loadImage.createObjectURL(file)\n      } else {\n        url = file\n        if (options && options.crossOrigin) {\n          img.crossOrigin = options.crossOrigin\n        }\n      }\n      img.src = url\n    }\n    img.onerror = function (event) {\n      return loadImage.onerror(img, event, file, url, callback, options)\n    }\n    img.onload = function (event) {\n      return loadImage.onload(img, event, file, url, callback, options)\n    }\n    if (typeof file === 'string') {\n      if (loadImage.hasMetaOption(options)) {\n        loadImage.fetchBlob(file, fetchBlobCallback, options)\n      } else {\n        fetchBlobCallback()\n      }\n      return img\n    } else if (\n      loadImage.isInstanceOf('Blob', file) ||\n      // Files are also Blob instances, but some browsers\n      // (Firefox 3.6) support the File API but not Blobs:\n      loadImage.isInstanceOf('File', file)\n    ) {\n      url = loadImage.createObjectURL(file)\n      if (url) {\n        img.src = url\n        return img\n      }\n      return loadImage.readFile(file, function (e) {\n        var target = e.target\n        if (target && target.result) {\n          img.src = target.result\n        } else if (callback) {\n          callback(e)\n        }\n      })\n    }\n  }\n  // The check for URL.revokeObjectURL fixes an issue with Opera 12,\n  // which provides URL.createObjectURL but doesn't properly implement it:\n  var urlAPI =\n    ($.createObjectURL && $) ||\n    ($.URL && URL.revokeObjectURL && URL) ||\n    ($.webkitURL && webkitURL)\n\n  /**\n   * Helper function to revoke an object URL\n   *\n   * @param {string} url Blob Object URL\n   * @param {object} [options] Options object\n   */\n  function revokeHelper(url, options) {\n    if (url && url.slice(0, 5) === 'blob:' && !(options && options.noRevoke)) {\n      loadImage.revokeObjectURL(url)\n    }\n  }\n\n  // Determines if meta data should be loaded automatically.\n  // Requires the load image meta extension to load meta data.\n  loadImage.hasMetaOption = function (options) {\n    return options && options.meta\n  }\n\n  // If the callback given to this function returns a blob, it is used as image\n  // source instead of the original url and overrides the file argument used in\n  // the onload and onerror event callbacks:\n  loadImage.fetchBlob = function (url, callback) {\n    callback()\n  }\n\n  loadImage.isInstanceOf = function (type, obj) {\n    // Cross-frame instanceof check\n    return Object.prototype.toString.call(obj) === '[object ' + type + ']'\n  }\n\n  loadImage.transform = function (img, options, callback, file, data) {\n    callback(img, data)\n  }\n\n  loadImage.onerror = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options)\n    if (callback) {\n      callback.call(img, event)\n    }\n  }\n\n  loadImage.onload = function (img, event, file, url, callback, options) {\n    revokeHelper(url, options)\n    if (callback) {\n      loadImage.transform(img, options, callback, file, {\n        originalWidth: img.naturalWidth || img.width,\n        originalHeight: img.naturalHeight || img.height\n      })\n    }\n  }\n\n  loadImage.createObjectURL = function (file) {\n    return urlAPI ? urlAPI.createObjectURL(file) : false\n  }\n\n  loadImage.revokeObjectURL = function (url) {\n    return urlAPI ? urlAPI.revokeObjectURL(url) : false\n  }\n\n  // Loads a given File object via FileReader interface,\n  // invokes the callback with the event object (load or error).\n  // The result can be read via event.target.result:\n  loadImage.readFile = function (file, callback, method) {\n    if ($.FileReader) {\n      var fileReader = new FileReader()\n      fileReader.onload = fileReader.onerror = callback\n      // eslint-disable-next-line no-param-reassign\n      method = method || 'readAsDataURL'\n      if (fileReader[method]) {\n        fileReader[method](file)\n        return fileReader\n      }\n    }\n    return false\n  }\n\n  if (typeof define === 'function' && define.amd) {\n    define(function () {\n      return loadImage\n    })\n  } else if (typeof module === 'object' && module.exports) {\n    module.exports = loadImage\n  } else {\n    $.loadImage = loadImage\n  }\n})((typeof window !== 'undefined' && window) || this)\n","/*\n * JavaScript Load Image Meta\n * https://github.com/blueimp/JavaScript-Load-Image\n *\n * Copyright 2013, Sebastian Tschan\n * https://blueimp.net\n *\n * Image meta data handling implementation\n * based on the help and contribution of\n * Achim Stöhr.\n *\n * Licensed under the MIT license:\n * https://opensource.org/licenses/MIT\n */\n\n/* global define, module, require, DataView, Uint8Array */\n\n;(function (factory) {\n  'use strict'\n  if (typeof define === 'function' && define.amd) {\n    // Register as an anonymous AMD module:\n    define(['./load-image'], factory)\n  } else if (typeof module === 'object' && module.exports) {\n    factory(require('./load-image'))\n  } else {\n    // Browser globals:\n    factory(window.loadImage)\n  }\n})(function (loadImage) {\n  'use strict'\n\n  var hasblobSlice =\n    typeof Blob !== 'undefined' &&\n    (Blob.prototype.slice ||\n      Blob.prototype.webkitSlice ||\n      Blob.prototype.mozSlice)\n\n  loadImage.blobSlice =\n    hasblobSlice &&\n    function () {\n      var slice = this.slice || this.webkitSlice || this.mozSlice\n      return slice.apply(this, arguments)\n    }\n\n  loadImage.metaDataParsers = {\n    jpeg: {\n      0xffe1: [], // APP1 marker\n      0xffed: [] // APP13 marker\n    }\n  }\n\n  // Parses image meta data and calls the callback with an object argument\n  // with the following properties:\n  // * imageHead: The complete image head as ArrayBuffer (Uint8Array for IE10)\n  // The options argument accepts an object and supports the following\n  // properties:\n  // * maxMetaDataSize: Defines the maximum number of bytes to parse.\n  // * disableImageHead: Disables creating the imageHead property.\n  loadImage.parseMetaData = function (file, callback, options, data) {\n    // eslint-disable-next-line no-param-reassign\n    options = options || {}\n    // eslint-disable-next-line no-param-reassign\n    data = data || {}\n    var that = this\n    // 256 KiB should contain all EXIF/ICC/IPTC segments:\n    var maxMetaDataSize = options.maxMetaDataSize || 262144\n    var noMetaData = !(\n      typeof DataView !== 'undefined' &&\n      file &&\n      file.size >= 12 &&\n      file.type === 'image/jpeg' &&\n      loadImage.blobSlice\n    )\n    if (\n      noMetaData ||\n      !loadImage.readFile(\n        loadImage.blobSlice.call(file, 0, maxMetaDataSize),\n        function (e) {\n          if (e.target.error) {\n            // FileReader error\n            // eslint-disable-next-line no-console\n            console.log(e.target.error)\n            callback(data)\n            return\n          }\n          // Note on endianness:\n          // Since the marker and length bytes in JPEG files are always\n          // stored in big endian order, we can leave the endian parameter\n          // of the DataView methods undefined, defaulting to big endian.\n          var buffer = e.target.result\n          var dataView = new DataView(buffer)\n          var offset = 2\n          var maxOffset = dataView.byteLength - 4\n          var headLength = offset\n          var markerBytes\n          var markerLength\n          var parsers\n          var i\n          // Check for the JPEG marker (0xffd8):\n          if (dataView.getUint16(0) === 0xffd8) {\n            while (offset < maxOffset) {\n              markerBytes = dataView.getUint16(offset)\n              // Search for APPn (0xffeN) and COM (0xfffe) markers,\n              // which contain application-specific meta-data like\n              // Exif, ICC and IPTC data and text comments:\n              if (\n                (markerBytes >= 0xffe0 && markerBytes <= 0xffef) ||\n                markerBytes === 0xfffe\n              ) {\n                // The marker bytes (2) are always followed by\n                // the length bytes (2), indicating the length of the\n                // marker segment, which includes the length bytes,\n                // but not the marker bytes, so we add 2:\n                markerLength = dataView.getUint16(offset + 2) + 2\n                if (offset + markerLength > dataView.byteLength) {\n                  // eslint-disable-next-line no-console\n                  console.log('Invalid meta data: Invalid segment size.')\n                  break\n                }\n                parsers = loadImage.metaDataParsers.jpeg[markerBytes]\n                if (parsers && !options.disableMetaDataParsers) {\n                  for (i = 0; i < parsers.length; i += 1) {\n                    parsers[i].call(\n                      that,\n                      dataView,\n                      offset,\n                      markerLength,\n                      data,\n                      options\n                    )\n                  }\n                }\n                offset += markerLength\n                headLength = offset\n              } else {\n                // Not an APPn or COM marker, probably safe to\n                // assume that this is the end of the meta data\n                break\n              }\n            }\n            // Meta length must be longer than JPEG marker (2)\n            // plus APPn marker (2), followed by length bytes (2):\n            if (!options.disableImageHead && headLength > 6) {\n              if (buffer.slice) {\n                data.imageHead = buffer.slice(0, headLength)\n              } else {\n                // Workaround for IE10, which does not yet\n                // support ArrayBuffer.slice:\n                data.imageHead = new Uint8Array(buffer).subarray(0, headLength)\n              }\n            }\n          } else {\n            // eslint-disable-next-line no-console\n            console.log('Invalid JPEG file: Missing JPEG marker.')\n          }\n          callback(data)\n        },\n        'readAsArrayBuffer'\n      )\n    ) {\n      callback(data)\n    }\n  }\n\n  // Replaces the image head of a JPEG blob with the given one.\n  // Calls the callback with the new Blob:\n  loadImage.replaceHead = function (blob, head, callback) {\n    loadImage.parseMetaData(\n      blob,\n      function (data) {\n        callback(\n          new Blob(\n            [head, loadImage.blobSlice.call(blob, data.imageHead.byteLength)],\n            { type: 'image/jpeg' }\n          )\n        )\n      },\n      { maxMetaDataSize: 256, disableMetaDataParsers: true }\n    )\n  }\n\n  var originalTransform = loadImage.transform\n  loadImage.transform = function (img, options, callback, file, data) {\n    if (loadImage.hasMetaOption(options)) {\n      loadImage.parseMetaData(\n        file,\n        function (data) {\n          originalTransform.call(loadImage, img, options, callback, file, data)\n        },\n        options,\n        data\n      )\n    } else {\n      originalTransform.apply(loadImage, arguments)\n    }\n  }\n})\n"],"sourceRoot":""}